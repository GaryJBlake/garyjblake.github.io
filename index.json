[{"body":"","link":"https://garyjblake.github.io/","section":"","tags":null,"title":""},{"body":"","link":"https://garyjblake.github.io/categories/","section":"categories","tags":null,"title":"Categories"},{"body":"","link":"https://garyjblake.github.io/post/","section":"post","tags":["index"],"title":"Posts"},{"body":"","link":"https://garyjblake.github.io/series/","section":"series","tags":null,"title":"Series"},{"body":"","link":"https://garyjblake.github.io/categories/vmware-validated-solutions/","section":"categories","tags":null,"title":"VMware Validated Solutions"},{"body":"","link":"https://garyjblake.github.io/series/vvs-whats-new/","section":"series","tags":null,"title":"VVS Whats New"},{"body":"Last Updated: 28-Apr-2022\nWelcome to Edition #7 of the What's New for VMware Validated Solutions, today we are announcing the following updates:\n Added support for VMware Cloud Foundation 4.4.1 Additional automation based on the PowerValidatedSolutions v1.6.0 release Release of PowerValidatedSolutions v1.6.0, our PowerShell module developed to ensure robustness, consistency, and accelerate implementation  Added Support for VMware Cloud Foundation 4.4.1 Delighted to announce support for VMware Cloud Foundation 4.4.1.\n Identity and Access Management for VMware Cloud Foundation Developer Ready Infrastructure for VMware Cloud Foundation Intelligent Logging and Analytics for VMware Cloud Foundation Intelligent Operations Management for VMware Cloud Foundation Private Cloud Automation for VMware Cloud Foundation Site Protection and Disaster Recovery for VMware Cloud Foundation  Identity and Access Management for VMware Cloud Foundation Solution Interoperability Additional PowerValidatedSolutions Automation\n Add a VMware Identity Manager Adapter for the Standalone Workspace ONE Access Instance (Add-vROPSAdapterIdentityManager)  Intelligent Logging and Analytics for VMware Cloud Foundation Updates Solution Interoperability Additional PowerValidatedSolutions Automation\n Reconfigure the Remote Collector Group for the vRealize Log Insight Integration (Update-vROPSAdapterCollecterGroup)  Site Protection and Disaster Recovery for VMware Cloud Foundation Updates Implementation Additional PowerValidatedSolutions Automation\n Reconfigure DNS and Domain Search on the vRealize Automation Nodes (Set-vRADnsConfig) Reconfigure NTP on vRealize Automation (Set-vRANtpConfig) Create a Port Group for vSphere Replication Traffic (New-vSRPortGroup) Create a Site Pair Between the Protected and Recovery VMware Cloud Foundation Instances (New-SRMSitePair) Configure Mappings between the Protected and the Recovery VMware Cloud Foundation Instances (Add-SRMMapping)  General Availability of PowerValidatedSolutions v1.6.0 Release of PowerValidatedSolutions v1.6.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository):\n Fixed Add-vROPSAdapterNsxt cmdlet so that the description is maintained when validating the certificate of the NSX-T Adapter Added Add-vROPSAdapterIdentityManager cmdlet to support adding a new Identity Manager Adapter in vRealize Operations Manager. Added Undo-vROPSAdapter cmdlet to support the removal of an Adapter from vRealize Operations Manager. Added Undo-vROPSCredential cmdlet to support the removal of an Adapter Credential from vRealize Operations Manager. Added Update-vROPSAdapterCollecterGroup cmdlet tto support updating the collector group for an Adapter in vRealize Operations Manager Added Set-vRADnsConfig cmdlet to configure the DNS server(s) and DNS search domain(s) on vRealize Automation to use custom settings. Added Undo-vRADnsConfig cmdlet to revert the DNS configuration of vRealize Automation to match SDDC Manager. Added Set-vRANtpConfig cmdlet to configure the NTP server(s) on vRealize Automation to use custom settings. Added Undo-vRANtpConfig cmdlet to revert the NTP configuration of vRealize Automation to match SDDC Manager. Added Add-SRMMapping cmdlet to create a mapping between objects (folder, network, or compute resource) in the protected and failover VCF instances in Site Recovery Manager Added Undo-SRMMapping cmdlet to remove a mapping between objects (folder, network, or compute resource) in the protected and failover VCF instances in Site Recovery Manager Added New-SRMSitePair cmdlet to create a site pair between Site Recovery Manager instances Added Undo-SRMSitePair cmdlet to remove an existing site pair between Site Recovery Manager instances. Added New-vSRPortGroup cmdlet to create port groups for vSphere Replication appliances in the protected and recovery sites. Added Undo-vSRPortGroup cmdlet to remove port groups for vSphere Replication appliances in the protected and recovery sites.  ","link":"https://garyjblake.github.io/post/vvs-whats-new/edition-07/","section":"post","tags":[],"title":"What's New for VMware Validated Solutions - Edition #7"},{"body":"Last Updated: 29-Mar-2022\nWelcome to Edition #6 of the What's New for VMware Validated Solutions, today we are announcing the following changes:\n Additional automation based on the PowerValidatedSolutions v1.5.0 release Additional Operational Guidance (example Personas) Additional automation for procedures within Solution Interoperability section  Identity and Access Management for VMware Cloud Foundation Solution Interoperability Design Decision Changes\n IAM-WSA-LOG-003 - Configure a dedicated Workspace ONE Access agent group and assign the standalone Workspace ONE Access FQDN (NEW) IAM-WSA-LOG-004 - Configure a dedicated Photon OS agent group and assign the standalone Workspace ONE Access FQDN. (NEW)  Procedure Changes\n Combined the below procedures into Install and Configure the vRealize Log Insight Agent on the Standalone Workspace ONE Access Appliance  Download and Install the vRealize Log Insight Agent on the Standalone Workspace ONE Access Appliance Configure the vRealize Log Insight Agent on the Standalone Workspace ONE Access Appliance    Additional PowerValidatedSolutions Automation\n Install and Configure the vRealize Log Insight Agent on the Standalone Workspace ONE Access Appliance (Install-vRLIPhotonAgent) Create a vRealize Log Insight Identity Manager Agent Group for the Standalone Workspace ONE Access (Add-vRLIAgentGroup) Create a vRealize Log Insight Photon OS Agent Group for the Standalone Workspace ONE Access (Add-vRLIAgentGroup)  Developer Ready Infrastructure for VMware Cloud Foundation Implementation Additional PowerValidatedSolutions Automation\n Replace the Supervisor Cluster Kubernetes API Endpoint Certificate (Request-SignedCertificate) License the Supervisor Cluster (Add-SupervisorClusterLicense)  Intelligent Logging and Analytics for VMware Cloud Foundation Updates Operational Guidance  Example Personas to illustrate product role to organization role assignments  Solution Interoperability Design Decision Changes\n ILA-VRLI-MON-005 - Configure the vRealize Log Insight adapter to use the remote collector group (NEW) ILA-VRLI-MON-006 - Add a Ping adapter for the vRealize Log Insight cluster nodes (NEW)  Additional PowerValidatedSolutions Automation\n Add a Ping adapter for the vRealize Log Insight cluster nodes (Add-vROPSAdapterPing)  Intelligent Operations Management for VMware Cloud Foundation Updates Operational Guidance  Example Personas to illustrate product role to organization role assignments  Solution Interoperability Design Decision Changes\n IOM-VROPS-LOG-005 - Configure a dedicated Photon OS agent group and assign the vRealize Operations Manager Cluster and Remote Collector Node FQDNs (CHANGED)  Procedure Changes\n Changed from Add the vRealize Operations Manager Nodes to the vRealize Log Insight Photon OS Agent Group to Create a vRealize Log Insight Photon OS Agent Group for the vRealize Operations Manager Nodes  Additional PowerValidatedSolutions Automation\n Create a vRealize Log Insight Photon OS Agent Group for the vRealize Operations Manager Nodes (Add-vRLIAgentGroup)  Private Cloud Automation for VMware Cloud Foundation Updates Operational Guidance  Example Personas to illustrate product role to organization role assignments  Solution Interoperability Design Decision Changes\n PCA-VRA-MON-005 - Add a Ping adapter for the vRealize Automation cluster nodes (NEW) Original PCA-VRA-MON-005 becomes PCA-VRA-MON-006 (CHANGED) Original PCA-VRA-MON-006 becomes PCA-VRA-MON-007 (CHANGED) PCA-VRA-LOG-004 - Configure a dedicated Photon OS agent group and assign the vRealize Automation Cluster FQDNs (CHANGED)  Procedure Changes\n Changed from Add the vRealize Automation Cluster Nodes to the vRealize Log Insight Photon OS Agent Group to Create a vRealize Log Insight Photon OS Agent Group for the vRealize Automation Cluster Nodes  Additional PowerValidatedSolutions Automation\n Add a Ping adapter for the vRealize Automation cluster nodes (Add-vROPSAdapterPing) Create a vRealize Log Insight Photon OS Agent Group for the vRealize Automation Cluster Nodes (Add-vRLIAgentGroup)  Site Protection and Disaster Recovery for VMware Cloud Foundation Updates Implementation Additional PowerValidatedSolutions Automation\n Reconfigure DNS and Domain Search on the vRealize Suite Lifecycle Manager Appliance Reconfigure NTP on the vRealize Suite Lifecycle Manager Appliance Reconfigure DNS and Domain Search on the Clustered Workspace ONE Access Nodes Reconfigure NTP on the Clustered Workspace ONE Access Nodes Reconfigure DNS and Domain Search on the vRealize Operations Manager Analytics Cluster Nodes Reconfigure NTP on the vRealize Operations Manager Analytics Cluster Nodes  Solution Interoperability Design Decision Changes\n SPR-SRM-LOG-002 - Configure the vRealize Log Insight agent to transmit logs from the Site Recovery Manager instance to the adjacent vRealize Log Insight in the VMware Cloud Foundation instance using the vRealize Log Insight ingestion API, cfapi, on port 9000 (NEW) Original SPR-SRM-LOG-002 becomes SPR-SRM-LOG-003 (CHANGED) SPR-SRM-LOG-004 - Configure the vRealize Log Insight agent to transmit logs from the vSphere Replication instance to the adjacent vRealize Log Insight in the VMware Cloud Foundation instance using the vRealize Log Insight ingestion API, cfapi, on port 9000 (NEW) SPR-SRM-LOG-005 - Configure a dedicated Photon OS agent group and assign the Site Recovery Manager and vSphere Replication FQDNs (CHANGED)  Procedure Changes\n Combined the below procedures into Install and Configure the vRealize Log Insight Agent on the Site Recovery Manager and vSphere Replication Appliances  Download and Install the vRealize Log Insight Agent on the Site Recovery Manager and vSphere Replication Appliances Configure the vRealize Log Insight Agent on the Site Recovery Manager and vSphere Replication Appliances   Changed from Add the Site Recovery Manager and the vSphere Replication Appliances to the vRealize Log Insight Photon OS Agent Group to Create a vRealize Log Insight Photon OS Agent Group for Site Recovery Manager and the vSphere Replication  Additional PowerValidatedSolutions Automation\n Install and Configure the vRealize Log Insight Agent on the Site Recovery Manager and vSphere Replication Appliances (Install-vRLIPhotonAgent) Create a vRealize Log Insight Photon OS Agent Group for Site Recovery Manager and the vSphere Replication (Add-vRLIAgentGroup)  General Availability of PowerValidatedSolutions v1.5.0 Release of PowerValidatedSolutions v1.5.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository):\n Enhanced Add-SsoPermission cmdlet to verify that the SSO Group exists in vCenter Single Sign-On. Enhanced Enable-SupervisorCluster cmdlet additional enhancements around pre-validation of inputs. Enhanced Add-vRLIAgentGroup cmdlet to support adding multiple Agent Groups of the same type. Enhanced Add-vROPSAdapterNsxt cmdlet to support defaulting to Default collector group rather than using custom remote collector group. Enhanced Add-vROPSAdapterPing cmdlet to support defaulting to Default collector group rather than using custom remote collector group. Enhanced Set-WorkspaceOneNtpConfig cmdlet to support updating NTP configuration for Clustered Workspace ONE Access Added Undo-WorkspaceOneNsxtIntegration cmdlet to disable the integration between NSX Manager and Workspace ONE Access. Added Undo-SsoPermission cmdlet to remove a user or group's access from vCenter Single Sign-On. Added Undo-NsxtVidmRole cmdlet to remove user or group's access from NSX-T Data Center. Added Undo-ClusterGroup cmdlet to remove a vSphere DRS Cluster Group. Added Undo-vCenterGlobalPermission cmdlet to remove vSphere Global Permissions from vCenter Server. Added Undo-vSphereRole cmdlet to remove a custom vSphere Role from vCenter Server. Added Undo-AntiAffinityRule cmdlet to remove an Anti-Affinity Rule from vCenter Server. Added Undo-VmStartupRule cmdlet to remove a VM to VM vSphere DRS Rule from vCenter Server. Added Undo-WorkspaceOneDirectoryGroup cmdlet to remove Active Directory Groups from Workspace ONE Access Directory sync. Added Add-SupervisorClusterLicense cmdlet to install and assign a license to a Tanzu Kubernetes Cluster. Added Request-SignedCertificate cmdlet to request a signed certificate from a Microsoft Certificate Authority. Added Set-vRSLCMDnsConfig cmdlet to update the DNS configuration of vRealize Suite Lifecycle Manager. Added Undo-vRSLCMDnsConfig cmdlet to revert the DNS configuration of vRealize Suite Lifecycle Manager to match SDDC Manager. Added Add-vRSLCMNtpServer cmdlet to add NTP Servers to vRealize Suite Lifecycle Manager. Added Undo-vRSLCMNtpServer cmdlet to revert the NTP configuration of vRealize Suite Lifecycle Manager to match SDDC Manager. Added Set-WorkspaceOneDnsConfig cmdlet to update the DNS configuration of Workspace ONE Access. Added Undo-WorkspaceOneDnsConfig cmdlet to revert the DNS configuration of Workspace ONE Access to match SDDC Manager. Added Set-vROPSDnsConfig cmdlet to update the DNS configuration of vRealize Operations Manager. Added Undo-vROPSDnsConfig cmdlet to revert the DNS configuration of vRealize Operations Manager to match SDDC Manager. Added Add-vROPSNtpServer cmdlet to add NTP Servers to vRealize Operations Manager. Added Undo-vROPSNtpServer cmdlet to revert the NTP configuration of vRealize Operations Manager to match SDDC Manager. Added Sample Scripts in the SampleScripts\\iam folder, each script uses the Planning and Preparation Workbook as the input source:  iamUndoDeployment.ps1 automates the removal of the Identity and Access Management for VMware Cloud Foundation validated solution.   Updated Sample Scripts in the SampleScripts\\iam folder, each script uses the Planning and Preparation Workbook as the input source:  iamConfigureWorkspaceOne.ps1 updated input values to use latest VCF 4.4.x Planning and Prep Workbook.   Added Sample Scripts in the SampleScripts\\dri folder, each script uses the Planning and Preparation Workbook as the input source:  driConfigureSupervisorCluster.ps1 automates the configuration of vSphere, NSX and enables the Supervisor Cluster. driDeployTanzuCluster.ps1 automates the the deployment of a Tanzu Kubernetes Cluster. driUndoDeployment.ps1 automates the removal of the Developer Ready Infrastructure for VMware Cloud Foundation validated solution.   Added Sample Scripts in the SampleScripts\\ila folder, each script uses the Planning and Preparation Workbook as the input source:  ilaUndoVrealizeLogInsight.ps1 automates the removal of Intelligent Logging and Analytics for VMware Cloud Foundation validated solution.    ","link":"https://garyjblake.github.io/post/vvs-whats-new/edition-06/","section":"post","tags":[],"title":"What's New for VMware Validated Solutions - Edition #6"},{"body":"Last Updated: 22-Feb-2022\nWelcome to Edition #5 of the What's New for VMware Validated Solutions, today we are announcing the following changes:\n Additional support for VMware Cloud Foundation 4.4.0 Additional automation across solutions based on the PowerValidatedSolutions v1.4.0 release  Added Support for VMware Cloud Foundation 4.4.0 Delighted to announce support for VMware Cloud Foundation 4.4.0.\n Identity and Access Management for VMware Cloud Foundation Developer Ready Infrastructure for VMware Cloud Foundation Intelligent Logging and Analytics for VMware Cloud Foundation Intelligent Operations Management for VMware Cloud Foundation Private Cloud Automation for VMware Cloud Foundation Site Protection and Disaster Recovery for VMware Cloud Foundation Advanced Load Balancer for VMware Cloud Foundation  Identity and Access Management for VMware Cloud Foundation  Added a procedure for configuring a Ping adapter for the standalone Workspace ONE Access. Uses PowerValidatedSolutions PowerShell module version 1.4.0. Validated solution now requires installation of the ImportExcel PowerShell module, when reading directly from the Planning and Preparation Workbook.  Developer Ready Infrastructure for VMware Cloud Foundation  Enhanced all Developer Ready Infrastructure Solution cmdlets for better error handling and message output Added Undo cmdlets to allow the rollback of procedures. Uses PowerValidatedSolutions PowerShell module version 1.4.0. Validated solution now requires installation of the ImportExcel PowerShell module, when reading directly from the Planning and Preparation Workbook.  Intelligent Logging and Analytics for VMware Cloud Foundation Updates  Added support for the Create Alerts in vRealize Log Insight procedure. Starting with VMware Cloud Foundation 4.4, installation and life cycle management of vRealize Log Insight is performed by using vRealize Suite Lifecycle Manager. Uses PowerValidatedSolutions PowerShell module version 1.4.0. Validated solution now requires installation of the ImportExcel PowerShell module, when reading directly from the Planning and Preparation Workbook.  Intelligent Operations Management for VMware Cloud Foundation Updates  Added a procedure for configuring Ping adapters for the clustered Workspace ONE Access. Starting with VMware Cloud Foundation 4.4, installation and life cycle management of vRealize Log Insight is performed by using vRealize Suite Lifecycle Manager. Uses PowerValidatedSolutions PowerShell module version 1.4.0. Validated solution now requires installation of the ImportExcel PowerShell module, when reading directly from the Planning and Preparation Workbook.  Private Cloud Automation for VMware Cloud Foundation Updates  Starting with VMware Cloud Foundation 4.4, installation and life cycle management of vRealize Log Insight is performed by using vRealize Suite Lifecycle Manager. Required storage for installation of vRealize Automation 8.6.2 is 738 GB compared to 708 GB for vRealize Automation 8.5 and earlier. Added design decision and procedure to install and use the vRealize Orchestrator content pack for vRealize Log Insight as part of the logging section in the solution. Uses PowerValidatedSolutions PowerShell module version 1.4.0. Validated solution now requires installation of the ImportExcel PowerShell module, when reading directly from the Planning and Preparation Workbook.  Site Protection and Disaster Recovery for VMware Cloud Foundation Updates  Uses PowerValidatedSolutions PowerShell module version 1.4.0.  Advanced Load Balancer for VMware Cloud Foundation Updates  Extend support for VMware Cloud Foundation 4.3.1 and 4.4.0. Enable support for Avi with Cloud Services (SaaS subscription).  General Availability of PowerValidatedSolutions v1.4.0 Release of PowerValidatedSolutions v1.4.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository):\n Enhanced all Developer Ready Infrastructure Solution cmdlets for better error handling and message output. Added Undo-NetworkSegment cmdlet to remove an NSX segment from an NSX Management Cluster. Added Undo-PrefixList cmdlet to remove an NSX Prefix List from an NSX Management Cluster. Added Undo-RouteMap cmdlet to remove an NSX Route Map from an NSX Management Cluster. Added Undo-DatastoreTag cmdlet to remove the vSphere Tag and Category from a datastore in vCenter Server. Added Undo-StoragePolicy cmdlet to remove a VM vSphere Storage Policy from vCenter Server. Added Undo-Registry cmdlet to disable the Embedded Harbor Registry on the Supervisor Cluster. Added Undo-SupervisorCluster cmdlet to remove the Supervisor Cluster. Added Undo-ContentLibrary cmdlet to remove a Content Library from the Workload Domain vCenter Server. Added Undo-Namespace cmdlet to remove a Namespace from the Supervisor Cluster. Added Undo-NamespacePermission cmdlet to remove permissions from a Namespace. Added Undo-TanzuKubernetesCluster cmdlet to remove a Tanzu Kubernetes Cluster from the Supervisor Cluster. Added Add-NsxtNodeProfileSyslogExporter cmdlet to add a syslog exporter to the default node profile or specified node profile id. Added Undo-NsxtNodeProfileSyslogExporter cmdlet to remove all syslog exporter from the default node profile or specified node profile id.  ","link":"https://garyjblake.github.io/post/vvs-whats-new/edition-05/","section":"post","tags":[],"title":"What's New for VMware Validated Solutions - Edition #5"},{"body":"Last Updated: 25-Jan-2022\nWelcome to Edition #4 of the What's New for VMware Validated Solutions, today we are announcing the following changes:\n Additional support for Dell VxRail Additional automation across solutions based on the PowerValidatedSolutions v1.3.0 release  Added Support for VMware Cloud Foundation 4.3.0 / 4.3.1 on VxRail Delighted to announce support for the following Validated Solutions running on Dell VxRail based systems in addition to vSAN Ready Nodes.\n Site Protection and Disaster Recovery for VMware Cloud Foundation  Intelligent Logging and Analytics for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\n Create Alerts in vRealize Log Insight (Add-vRLIAlertVirtualMachine and Add-vRLIAlertDatacenter)  Intelligent Operations Management for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\n Configure User Access in vRealize Operations Manager (Import-vROPSUserGroup) Configure Email Alert Plug-in Settings for vRealize Operations Manager (Add-vROPSAlertPluginEmail) Install the SDDC Health Monitoring Solution in vRealize Operations Manager (Enable-vROPSManagementPack) Rename the SDDC Health Adapters for the vRealize Operations Manager Analytics Cluster Nodes (Update-vROPSAdapterSddcHealth) Add SDDC Health Adapters for the vRealize Operations Manager Remote Collector Nodes (Add-vROPSAdapterSddcHealth) Activate the Ping Management Pack in vRealize Operations Manager (Register-vROPSManagementPack) Add Ping Adapters for the vRealize Operations Manager Nodes (Add-vROPSAdapterPing) Create Notifications in vRealize Operations Manager for VMware Cloud Foundation Issues (Import-vROPSNotification)  Private Cloud Automation for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\n Create a Virtual Machine and Template Folder and a Resource Pool for the vRealize Automation-Managed Workloads on the VI Workload Domain vCenter Server (Add-VMFolder and Add-ResourcePool) Configure the Organization Name for vRealize Automation (Update-vRAOrganizationDisplayName) Add Cloud Accounts for the VI Workload Domains to vRealize Automation (New-vRACloudAccount) Configure the Cloud Zones in vRealize Automation (Update-vRACloudAccountZone) Import the Trusted Certificates to vRealize Orchestrator (Add-vROTrustedCertificate) Restrict the vRealize Automation and vRealize Orchestrator Service Accounts Access to Virtual Machine and Datastore Folders in the VI Workload Domain (Set-vCenterPermission) Configure Email Alerts in Service Broker (Add-vRANotification) Configure Service Account Permissions for the vRealize Automation to NSX-T Data Center Integration on the VI Workload Domain NSX Manager Cluster (Add-NsxtVidmRole) Add the VI Workload Domain vCenter Server to vRealize Orchestrator (Add-vROvCenterServer) Assign Organization and Service Roles to the vRealize Operations Manager Service Account in vRealize Automation (Add-vRAUser) Assign Organization and Service Roles to the Groups for vRealize Automation (Add-vRAGroup)  Developer Ready Infrastructure for VMware Cloud Foundation Updates Implementation Updates to the following procedures based on PowerValidatedSolutions v1.3.0.\n Improvements to the pre-validation of the PowerShell procedure for Deploy a Supervisor Cluster for Developer Ready Infrastructure Updated the Replace the Supervisor Cluster Kubernetes API Endpoint Certificate for Developer Ready Infrastructure PowerShell procedure (Enable-SupervisorCluster)  Site Protection and Disaster Recovery for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\n Create Anti-Affinity Rules for the Placeholder Virtual Machines in the Recovery VMware Cloud Foundation Instance (Add-AntiAffinityRule) Create Virtual Machine Groups and Restart Order in the Recovery VMware Cloud Foundation Instance (Add-ClusterGroup and Add-VmStartupRule)  General Availability of PowerValidatedSolutions v1.3.0 Release of PowerValidatedSolutions v1.3.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository):\n Fixed New-vRSLCMLockerLicense cmdlet where depending on the speed of the system the license would be added but POST_VALIDATION would fail. Enhanced all Identity and Access Management Solution cmdlets for better error handling and message output. Enhanced all vRealize Operations Manager cmdlets for better error handling and message output. Enhanced all vRealize Log Insight cmdlets for better error handling and message output. Enhanced all vRealize Automation cmdlets for better error handling and message output. Enhanced Set-vCenterPermission cmdlet to set permissions on non-nested folders. Enhanced Enable-SupervisorCluster cmdlet with better pre-validation. Renamed Add-NsxtVidmGroupRole cmdlet to Add-NsxtVidmRole, to add support for assigning both users and groups roles in NSX-T Data Center. Added Add-ResourcePool cmdlet to create a resource pool in the Workload Domain specified. Added Undo-ResourcePool cmdlet to remove a resource pool based on the Workload Domain specified. Added Update-vRAOrganizationDisplayName cmdlet to configure the Organization Display Name in vRealize Automation. Added Add-vROPSAdapterPing cmdlet to add a Ping Adapter to vRealize Operations Manager Added Enable-vROPSManagementPack cmdlet to upload and install the SDDC Health Management Pack to vRealize Operations Manager Added Update-vROPSAdapterSddcHealth cmdlet to rename the SDDC Health Adapters in vRealize Operations Manager Added Add-vROPSAdapterSddcHealth cmdlet to add SDDC Health Adapters for the Remote Collectors in vRealize Operations Manager Added Add-vROPSAlertPluginEmail cmdlet to add an Email Alert Plugin to vRealize Operations Manager Added Register-vROPSManagementPack cmdlet to activate / deactivate Native Management Packs in vRealize Operations Manager Added Import-vROPSUserGroup cmdlet to import a user group and assign access in vRealize Operations Manager Added Add-vROvCenterServer cmdlet to add a workload domain vCenter Server instance to the embedded vRealize Orchestrator. Added Remove-vROvCenterServer cmdlet to remove a workload domain vCenter Server instance from the embedded vRealize Orchestrator. Added Add-vROTrustedCertificate cmdlet to import a trusted certificate to the embedded vRealize Orchestrator using a PEM-encoded file. Added Import-vROPSNotification cmdlet to import notifications using comma separated value file to vRealize Operations Manager. Added Add-vRANotification cmdlet to configure the smtp notification settings in vRealize Automation. Added New-vRACloudAccount cmdlet to add Cloud Accounts for a Workload Domains vCenter Server and NSX Management Cluster in vRealize Automation. Added Undo-vRACloudAccount cmdlet to remove the Cloud Accounts for a Workload Domains vCenter Server and NSX Management Cluster in vRealize Automation. Added Update-vRACloudAccountZone cmdlet to update the configuration of the Cloud Account Zone for a Workload Domain in vRealize Automation. Added Add-vRAUser cmdlet to add an organization role and a service role to a user account in vRealize Automation. Added Undo-vRAUser cmdlet to remove an organization role and all service roles from a user account in vRealize Automation. Added Add-vRAGroup cmdlet to add an organization role and a service role to a group in vRealize Automation. Added Undo-vRAGroup cmdlet to remove an organization role and all service roles from a group account in vRealize Automation. Added Undo-IdentitySource cmdlet to remove an Identity Provider from vCenter Server. Added Undo-SddcManagerRole cmdlet to remove access for a user in SDDC Manager. Added Add-SsoUser cmdlet to add a Single Sign-On domain user. Added New-vRSLCMDatacenter cmdlet to add a datacenter in vRealize Suite Lifecycle Manager. Added Undo-vRSLCMDatacenter cmdlet to remove a datacenter from vRealize Suite Lifecycle Manager. Added New-vRSLCMDatacenterVcenter cmdlet to add a vCenter Server to a datacenter in vRealize Lifecycle Manager. Added Export-WSAJsonSpec cmdlet to generate the deployment JSON for Clustered Workspace ONE Access. Added New-WSADeployment cmdlet to trigger the deployment of Clustered Workspace ONE Access via vRealize Suite Lifecycle Maneger. Added Add-WorkspaceOneDirectoryConnector cmdlet to add a connector to the Identity Provider in Workspace ONE Access. Added Add-vRLIAlertDatacenter cmdlet to create vRealize Log Insight alerts by datacenter Added Add-vRLIAlertVirtualMachine cmdlet to create vRealize Log Insight alerts by virtual machine Added Undo-vRLIAlert cmdlet to remove alerts from vRealize Log Insight. Added Sample Notification Templates in the SampleNotifications folder:  vrli-vcf-datacenter.json defines the vRealize Log Insight alerts that should be configured for VMware Cloud Foundation at the datacenter level vrli-vcf-vmVrslcm.json defines the vRealize Log Insight alerts that should be configured for vRealize Suite Lifecycle Manager   Added Sample Scripts in the SampleScripts\\iom folder, each script uses the Planning and Preparation Workbook as the input source:  iomDeployVrealizeOperations.ps1 automates the install and config of vRealize Operations for Intelligent Operations Management for VMware Cloud Foundation. iomConfigureVrealizeOperations.ps1 automates the integration config of vRealize Operations for Intelligent Operations Management for VMware Cloud Foundation.    ","link":"https://garyjblake.github.io/post/vvs-whats-new/edition-04/","section":"post","tags":[],"title":"What's New for VMware Validated Solutions - Edition #4"},{"body":"","link":"https://garyjblake.github.io/tags/api/","section":"tags","tags":null,"title":"API"},{"body":"If your not already familiar with the Identity and Access Management for VMware Cloud Foundation Validated Solution it’s primary purpose is to provide customers a consistent way of integrating the foundational components of VMware Cloud Foundation (vCenter Server, NSX-T Data Center and SDDC Manager) with an organizations identify provider delivering operational consistency and flexibility.\nThe Identity and Access Management solution achieves this by connecting components using Active Directory over LDAP/LDAPS and utilizing Active Directory Global Groups to assign individual component level role access and then nested Global Groups to assign a collection of roles based on personas.\nThe roles and personas documented (here) should be considered as a minimum requirement when implementing the Identity and Access Management solution but there is nothing stopping customers adding more granular roles where possible or even personas that better align with their own organizations roles and responsibilities.\nNow you have a better understanding of what the Identity and Access Management for VMware Cloud Foundation Validated Solution provides let’s look at how we can automate the implementation. Each Validated Solution provides both UI and Infrastructure-as-code based procedures. The Infrastructure-as-code method is delivered through the use of a PowerShell module specifically created to support Validated Solutions called PowerValidatedSolutions, each UI based procedure has a PowerShell cmdlet equivalent that not only performs the operation but ensures pre and post validation checks are performed to provide robustness.\nIncluded with the PowerValidatedSolution PowerShell module which can be installed directly from the Microsoft PS Gallery there is a SampleScripts folder and contained within that a folder named iam which contains sample .ps1 script files. These sample scripts demonstrate linking multiple procedures into a single executable script using the Planning and Preparation Workbook as the input for all data.\nFor the Identity and Access Management solution this is broken down into three phases and therefore three scripts as follows:\n vSphere and SDDC Manager Workspace ONE Access NSX-T Data Center  As already mentioned the scripts use the Planning and Preparation Workbook to obtain all the required inputs, this is the first step in the execution. The script checks that the path provided to the workbook is valid and then opens the workbook, reading the required information using named cells.\nOnce that step is complete it begins the process of executing each procedure based on the order of steps defined within the implementation guide.\nIn addition to providing the main cmdlets supporting the validated solution implementation procedures a number of cmdlets are included that provide supporting capabilities which are utilised by the scripts.\n Start-SetupLogFile - this cmdlet is used to configure a log file where the output of each step is logged. Write-LogMessage - this cmdlet is used to format the output of messages both to the console and log file. Debug-CatchWriter - this cmdlet is used to provide a consistent way of displaying exception errors should they occur.  For each procedure executed by the script, the output is captured into variables and then redirected to the Write-LogMessage cmdlet for display to the console and log in a consistent way. There are three types of output messages :\n INFO - Used for informational messages and successful execution of a procedure. WARNING - Used when a procedure is skipped due to the process already being executed. ERROR - Used to display a failure along with the failure reason.  Let’s now take a deeper look at the scripts.\nvSphere and SDDC Manager (iamConfigureVsphere.ps1) The iamConfigureVsphere.ps1 script automates all the procedures associated with ESXi, vCenter Server and SDDC Manager. This includes:\n Add Identity Provider to vCenter Server. This adds Active Directory over LDAP or LDAPS to vCenter Server making Active Directory users and groups available to both vCenter Server and SDDC Manager for assigning access control. Assign Global Permissions. This assigns the vCenter Server Administrator and Read Only roles to corresponding groups in Active Directory. Assign Single Sign-On Permissions. This assigns the Single Sign-On Administrator role to a corresponding group in Active Directory. Configure vCenter Server Appliance password expiration policy. Configure Single Sign-On password and lockout polices. Assign SDDC Manager Roles. This assigns the Admin, Operator and Viewer roles to corresponding groups in Active Directory. Configure ESXi password and lockout polices.  Execution of the iamConfigureVsphere.ps1 script is performed by using the following command:\n1.\\SampleScripts\\iam\\iamConfigureVsphere.ps1 -sddcManagerFqdn sfo-vcf01.sfo.rainpole.io -sddcManagerUser administrator@vsphere.local -sddcManagerPass VMw@re1! -workbook F:\\vvs\\PnP.xlsx -filePath F:\\vvs Workspace ONE Access (iamConfigureWorkspaceOne.ps1) The iamConfigureWorkspaceOne.ps1 script automates the deployment and configuration of Workspace ONE Access. This includes:\n Creating a Virtual Machine folder in vCenter Server. Deploying the Workspace ONE Access .ova. Performing the configuration of Workspace ONE Access:  Initial configuration. This assigns the root, admin and sshuser credentials. Configure NTP settings. Configure SMTP server settings. Install a signed-certificate. Configure password policy.   Add Identity Provider to Workspace ONE Access. This adds Active Directory over LDAP or LDAPS to Workspace ONE Access making Active Directory users and groups available. Assign Workspace ONE Access Permissions. This assigns the Super Admin, Directory Admin and Read Only Admin to corresponding groups in Active Directory. Create VM Group. This creates a VM Group in vCenter Server and assigns the Workspace ONE Access virtual machine to it.  Execution of the iamConfigureWorkspaceOne.ps1 script is performed by using the following command:\n1.\\SampleScripts\\iam\\iamConfigureWorkspaceOne.ps1 -sddcManagerFqdn sfo-vcf01.sfo.rainpole.io -sddcManagerUser administrator@vsphere.local -sddcManagerPass VMw@re1! -workbook F:\\vvs\\PnP.xlsx -filePath F:\\vvs NSX-T Data Center (iamConfigureNsx.ps1) The iamConfigureNsx.ps1 script automates the integration between the NSX Managers and Workspace ONE Access. Whilst it is possible to configure NSX-T Data Center with a direct connection to Active Directory over LDAP, the Identity and Access Management solution uses Workspace ONE Access which provides additional methods for connecting to authentication sources. This includes:\n Enable Integration between NSX Manager and Workspace ONE Access. Assign NSX-T Data Center Permissions. This assigns Enterprise Admin, Network Engineer and Auditor roles to corresponding groups in Active Directory for both the Management and Workload Domains. Configure Authentication Policies. This configure the authentication policies on the NSX Manager and NSX Edge Nodes for both the Management and Workload Domains. Create a custom role in vCenter Server. Assign Single Sign-On Permissions. This assigns the License Administration role to the NSX Manager service account used by SDDC Manager. Reduce vCenter Server Permissions. This reduces the permissions a specific vCenter Server service account has for other vCenter Servers within the Single Sign-On domain.  Execution of the iamConfigureNsx.ps1 script is performed by using the following command:\n1.\\SampleScripts\\iam\\iamConfigureNsx.ps1 -sddcManagerFqdn sfo-vcf01.sfo.rainpole.io -sddcManagerUser administrator@vsphere.local -sddcManagerPass VMw@re1! -workbook F:\\vvs\\PnP.xlsx -filePath F:\\vvs After execution of these scripts in the order described above, and assuming that each step completed successfully your environment is fully configured based on the design and implementation procedures documented within the Identity and Access Management for VMware Cloud Foundation Validated Solution.\n","link":"https://garyjblake.github.io/post/vvs/vvs-post-01/","section":"post","tags":["API","PowerVCF","PowerShell"],"title":"End-to-End Automation of Identity and Access Management Validated Solution"},{"body":"","link":"https://garyjblake.github.io/tags/powercli/","section":"tags","tags":null,"title":"PowerCLI"},{"body":"","link":"https://garyjblake.github.io/tags/powershell/","section":"tags","tags":null,"title":"PowerShell"},{"body":"","link":"https://garyjblake.github.io/tags/powervcf/","section":"tags","tags":null,"title":"PowerVCF"},{"body":"","link":"https://garyjblake.github.io/tags/","section":"tags","tags":null,"title":"Tags"},{"body":"","link":"https://garyjblake.github.io/series/vvs-tip/","section":"series","tags":null,"title":"VVS-Tip"},{"body":"Are you using the PowerValidatedSolutions PowerShell module? Have you found an issue that you want to report? Maybe you have an enhancement idea!\nThe source code for PowerValidatedSolutions can be found on Git Hub at https://github.com/vmware-samples/power-validated-solutions-for-cloud-foundation, from here you can log issues and enhancements. Fork the branch and provide direct contributions.\n","link":"https://garyjblake.github.io/post/vvs-tips/vvs-tip-07/","section":"post","tags":["PowerShell","PowerVCF","PowerCLI","API"],"title":"VVS-Tip - Contributing to PowerValidatedSolutions Source Code"},{"body":"Did you know that the PowerShell module PowerValidatedSolution can be used for more than implementing the VMware Validated Solutions?\nWhilst the primary goal for the PowerShell module has been to enable a robust and automated way to implement the various procedures across solutions, its very nature unlocks the power for cmdlet's to be used across the VMware portfolio. One of the fundamental directives for our development work was to minimize the reliance on other PowerShell modules. There are many community based modules on PS Gallery some of which already provided some of the functionality we required however because they are community based future development is not guaranteed and we have no direct control to fix issues in a timely manner.\nWe do utilise PowerCLI first and foremost and for VMware Cloud Foundation APIs PowerVCF both of which are VMware developed but beyond that we have created an array of functions which support the following products:\n vCenter Server NSX-T Data Center Workspace ONE Access vRealize Suite Lifecycle Manager vRealize Log Insight vRealize Operations Manager vRealize Automation  Download PowerValidatedSolutions and check them out.\n","link":"https://garyjblake.github.io/post/vvs-tips/vvs-tip-06/","section":"post","tags":["PowerShell","PowerVCF","PowerCLI","API"],"title":"VVS-Tip - Unlocking Automation Capabilities with PowerValidatedSolutions"},{"body":"","link":"https://garyjblake.github.io/categories/powervcf/","section":"categories","tags":null,"title":"PowerVCF"},{"body":"I'm pleased to announce the general availability of PowerVCF v2.1.7 for download from the PowerShell Library.\nPowerVCF is a open source project and the team works on adding support when time permits.\nDownload It Here: PowerVCF PowerShell Library Download\n Fixed New-VCFClustercmdlet where incorrect braces prevented the ability to retrieve response information. Added Get-VCFvRLIConnection cmdlet to get the connection status of VI Workload Domains to vRealize Log Insight. Rename Set-VCFvRLIConnection cmdlet from Set-VCFvRLI to align with new Get-VCFvRLIConnection cmdlet. Added Get-VCFvROPSConnection cmdlet to get the connection status of VI Workload Domains to vRealize Operations Manager. Rename Set-VCFvROPSConnection cmdlet from Set-VCFvROPs to align with new Get-VCFvROPSConnection cmdlet. Updated New-VCFLicenseKey cmdlet to support additonal license types \u0026quot;WCP\u0026quot;, \u0026quot;NSXV\u0026quot;, \u0026quot;HORIZON_VIEW\u0026quot;. Updated Get-VCFvROPs cmdlet to display API output in an easier to read format. Updated Get-VCFWSA cmdlet to display API output in an easier to read format. Updated Get-VCFvRA cmdlet to display API output in an easier to read format. Updated Get-VCFvRLI cmdlet to display API output in an easier to read format.  If you would like to learn more about VMware Cloud Foundation or PowerVCF, check out these links:\n VMware Cloud Foundation Documentation PowerVCF Documentation PowerVCF v2.1.7 PowerShell Library Download  ","link":"https://garyjblake.github.io/post/powervcf/powervcf-post-10/","section":"post","tags":["API","PowerVCF","PowerShell"],"title":"PowerVCF v2.1.7 - General Availability"},{"body":"","link":"https://garyjblake.github.io/categories/vmware-cloud-foundation/","section":"categories","tags":null,"title":"VMware Cloud Foundation"},{"body":"Last Updated: 30-Nov-2021\nWelcome to Edition #3 of the What's New for VMware Validated Solutions, today we are announcing the following changes:\nGeneral Availability of PowerValidatedSolutions v1.2.0 Release of PowerValidatedSolutions v1.2.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository):\n Fixed Add-GlobalPermission where an error is thrown when Internet Explorer has not been launched in the operating system. Enhanced Move-VMtoFolder cmdlet to check the name of VM provided and skip if it does not exist. Enhanced Add-WorkspaceOneDirectory cmdlet so that it can be used with Clustered Workspace ONE Access. Enhanced Set-WorkspaceOneSmtpConfig cmdlet to skip the configuration if the SMTP Server configuration is already performed. Added Export-vRLIJsonSpec cmdlet to generate the Json specification file needed to deploy vRealize Log Insight via vRealize Lifecycle Suite Manager. Added New-vRLIDeployment cmdlet to deploy vRealize Log Insight via vRealize Lifecycle Suite Manager in VMware Cloud Foundation aware mode. Added Add-vRLIAuthenticationWSA cmdlet to support configuring Workspace ONE Access integration with vRealize Log Insight. Added Add-WorkspaceOneDirectoryGroup cmdlet to Sync additional Active Directory groups with Workspace ONE Access. Added Export-vROPSJsonSpec cmdlet to generate the Json specification file needed to deploy vRealize Operations Manager via vRealize Lifecycle Suite Manager. Added New-vROPSDeployment cmdlet to deploy vRealize Operations Manager via vRealize Lifecycle Suite Manager in VMware Cloud Foundation aware mode. Added Export-vRASJsonSpec cmdlet to generate the Json specification file needed to deploy vRealize Automation via vRealize Lifecycle Suite Manager. Added New-vRADeployment cmdlet to deploy vRealize Automation via vRealize Lifecycle Suite Manager in VMware Cloud Foundation aware mode. Added Install-vRLIPhotonAgent cmdlet to download, install and configure the vRealize Log Insight Agent on Photon Operating System. Added Add-vRLIAgentGroup cmdlet to create an Agent Group in vRealize Log Insight Added Register-vRLIWorkloadDomain cmdlet to connect/disconnect a Workload Domain with vRealize Log Insight. Added Set-vRLISyslogEdgeCluster cmdlet to configure the Syslog settings for each NSX Edge node within a Workload Domains NSX Edge Cluster. Added Add-vRLISmtpConfiguation cmdlet to configure the SMTP Server settings for vRealize Log Insight Added Add-vRLILogArchive cmdlet to configure Email Notifications, Retention and Archive Location for vRealize Log Insight Added Register-vROPSWorkloadDomain cmdlet to connect/disconnect a Workload Domain with vRealize Operations Manager. Added Add-vROPSCurrency cmdlet to configure the currency for vRealize Opertations Manager Added Add-vROPSGroupRemoteCollectors cmdlet to create a Remote Collector Group and assign the remote collectors in vRealize Operations Manager Added Update-vROPSAdapterVcenter cmdlet to update the Remote Collector Group assignment for the vCenter Server Adapter in vRealize Operations Manager Added Add-vROPSCredentialNsxt cmdlet to create an NSX credential in vRealize Operations Manager Added Add-vROPSAdapterNsxt cmdlet to create an NSX Adapter and Start Collection in vRealize Operations Manager Added Undo-vRSLCMLockerPassword cmdlet to remove a password from the vRealize Suite Lifecycle Manager Locker. Added Undo-vRSLCMLockerCertificate cmdlet to remove a certificate from the vRealize Suite Lifecycle Manager Locker. Added Undo-vRSLCMLockerLicense cmdlet to remove a license from the vRealize Suite Lifecycle Manager Locker. Added Undo-VMFolder cmdlet to remove a folder from vCenter Server Added Add-vRLIAuthenticationGroup cmdlet to assign vRealize Log Insight roles to Workspace ONE Access Groups. Added Sample Scripts in the SampleScripts\\iam folder, each script uses the Planning and Preparation Workbook as the input source:  iamConfigureVsphere.ps1 automates all the configuration of vSphere/SDDC Manager elements for Identity and Access Management for VMware Cloud Foundation. iamConfigureWorkspaceOne.ps1 automates all the configuration of Workspace ONE Access elements for Identity and Access Management for VMware Cloud Foundation. iamConfigureNsx.ps1 automates all the configuration of the NSX elements for Identity and Access Management for VMware Cloud Foundation.   Added Sample Scripts in the SampleScripts\\ila folder, each script uses the Planning and Preparation Workbook as the input source:  ilaDeployVrealizeLogInsight.ps1 automates the install and config of vRealize Log Insight for Intelligent Logging and Analytics for VMware Cloud Foundation. ilaConfigureVrealizeLogInsight.ps1 automates the integration config of vRealize Log Insight for Intelligent Logging and Analytics for VMware Cloud Foundation.   Enhanced Enable-SupervisorCluster cmdlet:  Added SkipValidation parameter to disable input validation Added ValidateOnly parameter to only perform a dry run validation Management network sizing, netmask, gateway, and IPv4 address validation Control plane DNS validation Control plane and worker DNS server validation Control plane NTP server validation Control plane search domain validation Subscribed Content Library validation Storage Policy validation vSphere Distributed Switch validation NSX Edge Cluster validation Pod, Services, External Ingress, and External Egress subnet sizing and format validation vSphere Cluster validation License validation   Added New-SupervisorClusterCSR cmdlet to create a new certificate signing request for the defined Supervisor Cluster Added Add-SupervisorClusterCertificate cmdlet to add a signed TLS certificate for the defined Supervisor Cluster Added Add-NamespaceVmClass cmdlet to add an existing VM Class to a Supervisor Namespace  Intelligent Logging and Analytics for VMware Cloud Foundation Updates Implementation Combined the following procedures:\n Download and Install the vRealize Log Insight Agent on the Clustered Workspace ONE Access Nodes Configure the vRealize Log Insight Agent on the Clustered Workspace ONE Access Nodes  Into a new single procedure:\n Download, Install and Configure the vRealize Log Insight Agent on the Clustered Workspace ONE Access Nodes  Added PowerValidatedSolutions automation to the following procedures:\n Deploy vRealize Log Insight by Using vRealize Suite Lifecycle Manager (New-vRLIDeployment) Configure SMTP for vRealize Log Insight (New-vRLIDeployment) Configure Log Retention and Archiving for vRealize Log Insight (Add-vRLILogArchive) Enable Authentication for vRealize Log Insight by Using Workspace ONE Access (Add-vRLIAuthenticationWSA) Sync Active Directory Groups to Workspace ONE Access (Add-WorkspaceOneDirectoryGroup) Assign vRealize Log Insight Roles to Active Directory Groups (Add-vRLIAuthenticationGroup) Connect a VI Workload Domain to vRealize Log Insight (Register-vRLIWorkloadDomain) Configure the NSX Edge Nodes to Forward Log Events to vRealize Log Insight (Set-vRLISyslogEdgeCluster) Download, Install and Configure the vRealize Log Insight Agent on the Clustered Workspace ONE Access Nodes (Install-vRLIPhotonAgent) Configure the vRealize Log Insight Agent Group for the Clustered Workspace ONE Access (Add-vRLIAgentGroup) Create a vRealize Log Insight Photon OS Agent Group for the Management Nodes (Add-vRLIAgentGroup)  Intelligent Operations Management for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\n Deploy vRealize Operations Manager by Using vRealize Suite Lifecycle Manager (New-vROPSDeployment) Synchronize the Groups for vRealize Operations Manager from the Identity Provider into Workspace ONE Access (Add-WorkspaceOneDirectoryGroup) Group the vRealize Operations Manager Remote Collector Nodes (Add-vROPSGroupRemoteCollectorsy) Set the Currency for Cost Calculation in vRealize Operations Manager (Add-vROPSCurrency) Connect vRealize Operations Manager to the VI Workload Domains in the First VMware Cloud Foundation Instance (Register-vROPSWorkloadDomain) Modify the vCenter Server Adapters for the First VMware Cloud Foundation Instance in vRealize Operations Manager (Update-vROPSAdapterVcenter) Add NSX-T Data Center Adapters in vRealize Operations Manager (Add-vROPSAdapterNsxt)  Private Cloud Automation for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\n Deploy vRealize Automation by Using vRealize Suite Lifecycle Manager (New-vRADeployment) Synchronize the Groups for vRealze Automation from the Identity Provider into Workspace ONE Access (Add-WorkspaceOneDirectoryGroup)  Developer Ready Infrastructure for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\n Replace the Supervisor Cluster Kubernetes API Endpoint Certificate (New-SupervisorClusterCSR and Add-SupervisorClusterCertificate) Enable a Virtual Machine Class for the Tanzu Kubernetes Cluster (Add-NamespaceVmClass)  Site Protection and Disaster Recovery for VMware Cloud Foundation Updates Operational Guidance  Added Shutdown and Startup procedures  Navigation Improvements on core.vmware.com And lastly based on feedback we are making a few adjustments to the navigation experience on core.vmware.com which is the marketplace for all VMware Validated Solutions, here’s a list of what’s new:\n Renamed Quick Links to Solution Quick Links - to remove confusion we have renamed the Quick Links menu bar to Solution Quick Links, so when your looking at a specific solution resource page there is a difference between this quick link label and the main VMware Validated Solutions landing page. Added Quick Link to Update History – each time the documentation for a VMware Validated Solution is updated, what’s changed is tracked in an Update History table within the solution documentation. This new Quick Link will take you directly to this section of the documentation.  ","link":"https://garyjblake.github.io/post/vvs-whats-new/edition-03/","section":"post","tags":[],"title":"What's New for VMware Validated Solutions - Edition #3"},{"body":"Each VMware Validated Solution places certain configuration requirements on VMware Cloud Foundation, this detailed is documented within the Before You Apply This Guidance section of the Solution Guide.\nTo locate the Before You Apply This Guidance use the following process:\n  Connect to the VMware Validated Solutions landing page on core.vmware.com.\n  Click View Resource Page for the Validated Solution your interested in.\n  Click Read More under the Design Objectives tile.\n  Click on the top page of the docs.vmware.com page.       Using the right-hand menu under In this article select Before You Apply This Guidance.       ","link":"https://garyjblake.github.io/post/vvs-tips/vvs-tip-05/","section":"post","tags":[],"title":"VVS-Tip - Identify What’s Required from a VMware Cloud Foundation Perspective"},{"body":"By default when VMware Cloud Foundation is deployed, SDDC Manager and NSX-T Data Center are configured to use an SFTP service running locally on the SDDC Manager Appliance. For production environments its critical that this is changed before going live to ensure that you have the ability to recover in the event of a disaster.\nThe requirements of using an SFTP in my experience seem to fall through the gaps during most initial deployments and as a result it takes organizations some time to get all the requirements put in place. Such delays simply place a risk on the implementation until addressed.\nOne way to reduce this risk, and of course for use in a lab environment is to use VMware Cloud Builder as an alternative short term solution as it too has an SFTP service running, this can be acheived through a simple three step process:\n Create a Backup Service Account on the VMware Cloud Builder Appliance Create a Backup Folder on the VMware Cloud Builder Appliance Re-Configure the Backup in SDDC Manager  Create a Backup Service Account on the VMware Cloud Builder Appliance First step is to create a local account on the VMware Cloud Builder Appliance, this will be used as the service account and is supplied when re-configuring the backup configuation in SDDC Manager.\n  Connect to the SDDC Manager Appliance using an SSH client such as Putty, and authenticate as admin.\n  Switch to root by entering the following command:\n  1su Create the service account by entering the following command:  1useradd -m -p $(openssl passwd -1 VMw@re1!) svc-vcf-bck Create a Backup Folder on the VMware Cloud Builder Appliance The next step is to create a target backup folder on the VMware Cloud Builder Appliance and assign the appropriate access to allow the service account to store backup jobs.\n Create a new folder by entering the following command:  1mkdir /tmp/vcf-backups Configure access to the folder for the service account by entering the following command:  1chown svc-vcf-bck:users /tmp/vcf-backups Re-Configure the Backup in SDDC Manager And finally you re-configure the backup configuration to use the new SFTP target for backups, performing this task will trigger SDDC Manager to automatically reconfigure SDDC Manager and NSX-T Data Center.\n  Login to the SDDC Manager UI with a user assigned with the ADMIN role.\n  Using the navigation paine, select Administration \u0026gt; Backup.\n  On the Backup paine, select Site Settings and click Register External.\n      Enter the values, and click Save.     Setting Value     Host FQDN or IP sfo-cb01.sfo.rainpole.io   Port 22   Transfer Protocol SFTP   Username svc-vcf-bck   Password VMw@re1!   Backup Directory /tmp/vcf-backups   Confirm Fingerprint Selected   Encryption Passphares VMw@re1!VMw@re1!    On the Confirm your changes to backup settings dialog, click Confirm. Your details will be saved and the Configure Backup of VCF Components (SDDC Manager and NSX Managers) task will start.      NOTE: The SDDC Manager UI procedure is valid for VMware Cloud Foundation 4.3.0 and later.\n","link":"https://garyjblake.github.io/post/vcf/vcf-post-01/","section":"post","tags":["API","PowerVCF","PowerShell"],"title":"Configure VMware Cloud Builder as a Backup Target for SDDC Manager"},{"body":"Last Updated: 10-Nov-2021\nVMware Validated Solutions are byte sized solutions developed to extend the foundational capabilities of VMware Cloud Foundation, for background reading see my previous post here. To help customers get the most out of VMware Validated Solutions I've put together a number of short tips, bookmark this page for easy access.\nRemember to check back from time to time!\n Quickly Identify the Version of VMware Cloud Foundation Supported Quickly Identify the Last Time Content Was Updated Review Detailed Update History for a Validated Solution Quickly Identify the Architecture Supported Identify What’s Required from a VMware Cloud Foundation Perspective Unlocking Automation Capabilities with PowerValidatedSolutions Contributing to PowerValidatedSolutions Source Code  ","link":"https://garyjblake.github.io/post/vvs-tips/vvs-tip-index/","section":"post","tags":[],"title":"VMware Validated Solutions - Tips Index"},{"body":"Each VMware Validated Solution is validated against a specific architecture configuration of VMware Cloud Foundation, to confirm and identify if your configuration is supported you use the Design Objectives table.\n  Connect to the VMware Validated Solutions landing page on core.vmware.com.\n  Click View Resource Page for the Validated Solution your interested in.\n  Click Read More under the Design Objectives tile.\n  Review the VMware Cloud Foundation architecture support and Workload domain type support rows to confirm support.       ","link":"https://garyjblake.github.io/post/vvs-tips/vvs-tip-04/","section":"post","tags":[],"title":"VVS-Tip - Quickly Identify the Architecture Supported"},{"body":"When updates are made to VMware Validated Solutions the changes could affect a section of the guide or the whole guide, each page within the guide itself has an Updated on value at the top of the page.\n    In addition its possible to identify where content has changed from individual Validated Solution resource page on core.vmware.com, each tile which provides a link to a particular section of the content has a date too, this is updated each time changes are made within that section.\n    ","link":"https://garyjblake.github.io/post/vvs-tips/vvs-tip-02/","section":"post","tags":[],"title":"VVS-Tip - Quickly Identify the Last Time Content Was Updated"},{"body":"As each VMware Validated Solution is updated its important that you as the customer are able to obtain a precise and accurate account of what has changed within the guide, Validated Solutions do this through the use of an Update History table that is published within the About section of the document.\nTo locate the Update History use the following process:\n  Connect to the VMware Validated Solutions landing page on core.vmware.com.\n  Click View Resource Page for the Validated Solution your interested in.\n  Click Read More under the Design Objectives tile.\n  Click on the top page of the docs.vmware.com page.       Using the right-hand menu under In this article select Update History.       ","link":"https://garyjblake.github.io/post/vvs-tips/vvs-tip-03/","section":"post","tags":[],"title":"VVS-Tip - Review Detailed Update History for a Validated Solution"},{"body":"VMware Validated Solutions have been developed so that they can support multiple versions of VMware Cloud Foundation, this means they only need to be updated when absolutely necessary which is typically driven by significant architecture changes.\nThere are two methods that you can use to identify if a particular solution is supported for the VMware Cloud Foundation release you have deployed.\nMethod One - Viewing Tags on core.vmware.com VMware utilizes a single landing page within the Cloud Platform Tech Zone website known as core.vmware.com once you select VMware Validated Solutions, you are presented with tiles where each tile represents a single Validated Solution.\n    Inside each tile there is a Tags label, if you simply click Tags a dialog window will open and from here under Products you can quickly identify which releases of VMware Cloud Foundation are supported.\n    Method Two - View the Solution Guide Support Matrix Contained within each Validated Solution guide there is a Support Matrix table, this is contained within the About page. In the example below taken from the Identity and Access Management for VMware Cloud Foundation Validated Solution you can see the table contains a link to the VMware Cloud Foundation Release Notes and clearly calls out the version of the products added by the solution.\n    To locate this Support Matrix use the following process:\n  Connect to the VMware Validated Solutions landing page on core.vmware.com.\n  Click View Resource Page for the Validated Solution your interested in.\n  Click Read More under the Design Objectives tile.\n  Click on the top page of the docs.vmware.com page.\n      Using the right-hand menu under In this article select Support Matrix.      Quick Links Below are quick links to each Validated Solutions Support Matrix:\n Identity and Access Management for VMware Cloud Foundation - Support Matrix Developer Ready Infrastructure for VMware Cloud Foundation - Support Matrix Private Cloud Automation for VMware Cloud Foundation - Support Matrix Intelligent Logging and Analytics for VMware Cloud Foundation - Support Matrix Intelligent Operations Management for VMware Cloud Foundation - Support Matrix Site Protection and Disaster Recovery for VMware Cloud Foundation - Support Matrix Advanced Load Balancing for VMware Cloud Foundation - Support Matrix  ","link":"https://garyjblake.github.io/post/vvs-tips/vvs-tip-01/","section":"post","tags":[],"title":"VVS-Tip - Quickly Identify the Version of VMware Cloud Foundation Supported"},{"body":"Last Updated: 22-Feb-2022\nVMware Validated Solutions are byte sized solutions developed to extend the foundational capabilities of VMware Cloud Foundation, for background reading see my previous post here. Over time the team intends to add incremental value where opportunities arise and I plan to share as much detail as I can with each new update using my What's New for VMware Validated Solutions series of blog posts. I've decided to create this single landing page where I will provide a consolidated list of links to the relevant Editions of this series so you can bookmark this single page for ease of use.\nRemember to check back from time to time!\n What’s New for VMware Validated Solutions - Edition #1 What's New for VMware Validated Solutions - Edition #2 What's New for VMware Validated Solutions - Edition #3 What's New for VMware Validated Solutions - Edition #4 What's New for VMware Validated Solutions - Edition #5  ","link":"https://garyjblake.github.io/post/vvs-whats-new/whats-new-index/","section":"post","tags":[],"title":"What's New for VMware Validated Solutions - Blog Index"},{"body":"Last Updated: 26-Oct-2021\nWelcome to Edition #2 of the What's New for VMware Validated Solutions, today we are announcing a number of incremental changes:\n Additional support for Dell VxRail Additional automation across solutions based on the PowerValidatedSolutions v1.1.0 release Additional Operational Guidance  Added Support for VMware Cloud Foundation 4.3.0 / 4.3.1 on VxRail Delighted to announce support of the following Validated Solutions running on Dell VxRail based systems in addition to vSAN Ready Nodes.\n Intelligent Logging and Analytics for VMware Cloud Foundation Intelligent Operations Management for VMware Cloud Foundation Private Cloud Automation for VMware Cloud Foundation  Intelligent Logging and Analytics for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\n Add vRealize Log Insight License to vRealize Suite Lifecycle Manager (New-vRSLCMLockerLicense) Add the vRealize Log Insight Admin Password to vRealize Suite Lifecycle Manager (New-vRSLCMLockerPassword) Add the vRealize Log Insight Virtual Machines to the First Availability Zone VM Group (Add-VmGroup)  Operational Guidance  Added Shutdown and Startup procedures  Intelligent Operations Management for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\n Add vRealize Operations Manager License to vRealize Suite Lifecycle Manager (New-vRSLCMLockerLicense) Add the vRealize Operations Manager Password to vRealize Suite Lifecycle Manager (New-vRSLCMLockerPassword) Add the vRealize Operations Manager Virtual Machines to the First Availability Zone VM Group (Add-VmGroup)  Operational Guidance  Added Shutdown and Startup procedures  Private Cloud Automation for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\n Add vRealize Automation License to vRealize Suite Lifecycle Manager (New-vRSLCMLockerLicense) Add the vRealize Automation Password to vRealize Suite Lifecycle Manager (New-vRSLCMLockerPassword) Add the vRealize Automation Cluster Virtual Machines to the First Availability Zone VM Group (Add-VmGroup) Restrict the vRealize Automation and vRealize Orchestrator Service Accounts Access to the Management Domain (Set-vCenterPermission) Configure a Publishing Content Library on the First VI Workload Domain vCenter Server (Add-ContentLibrary) Configure Subscribed Content Libraries on an Additional VI Workload Domain vCenter Server (Add-ContentLibrary)  Operational Guidance  Added Shutdown and Startup procedures  Identity and Access Management for VMware Cloud Foundation Updates Implementation Added a new procedure which is used when vRealize Log Insight is deployed under the Intelligent Logging and Analytics for VMware Cloud Foundation\n Create a VM Group for the Standalone Workspace ONE Access Instance  Operational Guidance  Added Shutdown and Startup procedures  Developer Ready Infrastructure for VMware Cloud Foundation Updates Operational Guidance  Added Shutdown and Startup procedures  ","link":"https://garyjblake.github.io/post/vvs-whats-new/edition-02/","section":"post","tags":[],"title":"What's New for VMware Validated Solutions - Edition #2"},{"body":"Last Updated: 05-Oct-2021\nLast month we released VMware Validated Solutions for background reading check out my original post here, this fundamental shift in developing VMware Validated Solutions now allows us to deliver incremental value over time, this is just the first of what I hope to be many updates but I'm really excited to share the following announcements with you all today:\nGeneral Availability of Site Protection and Disaster Recovery for VMware Cloud Foundation The Site Protection and Disaster Recovery for VMware Cloud Foundation Validated Solution, illustrates adapting a dual-instance software-defined data center (SDDC), deployed on top of VMware Cloud Foundation, to provide disaster recovery of the vRealize Automation and vRealize Operations Manager components within the Management Domain as well as lay the foundation to protected customer workloads within the VI Workload Domain.\nCheck out the following blog posts from my colleagues Brian O'Connell and Ken Gould who are the driving force behind the development and delivery of this Validated Solution:\n Ken Gould Blog: Planning \u0026amp; Preparation for Site Protection and Disaster Recovery with VMware Cloud Foundation Brian O'Connell Blog: Site Protection \u0026amp; Disaster Recovery for VMware Cloud Foundation Validated Solution  VMworld Sessions If you're registered for VMworld 2021, then check out the following sessions for more information on a few of our Validated Solutions, if your not registered for VMworld what are you doing get signed up now!\n [MCL2371] Enabling Security and Automation Services in VMware Cloud Foundation Fleets [MCL1544] Meet the Experts: Site Protection and Disaster Recovery for VMware Cloud Foundation [MCL1543] Meet the Experts: Intelligent Operations Management for VMware Cloud Foundation  Added Support for VMware Cloud Foundation 4.3.1 Since the initial release of VMware Validated Solutions, VMware has shipped an updated version of VMware Cloud Foundation. The team has been validating each solution based on VMware Cloud Foundation 4.3.1 and has officially updated the support matrix accordingly for the following Validated Solutions:\n Identity and Access Management for VMware Cloud Foundation Develop Ready Infrastructure for VMware Cloud Foundation Intelligent Logging and Analytics for VMware Cloud Foundation Intelligent Operations Management for VMware Cloud Foundation Private Cloud Automation for VMware Cloud Foundation  Added Support for VMware Cloud Foundation 4.3.0 / 4.3.1 on VxRail In addition to updated support for VMware Cloud Foundation 4.3.1 we are also delighted to announce support of the following Validated Solutions running on Dell VxRail based systems in addition to vSAN Ready Nodes. We plan to validate the remaining Validated Solutions and update the support status in due course.\n Identity and Access Management for VMware Cloud Foundation Develop Ready Infrastructure for VMware Cloud Foundation  General Availability of PowerValidatedSolutions v1.1.0 And finally I'm excited to share the release of PowerValidatedSolutions v1.1.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed:\n A number of new functions have been added to support automation of the Site Protection and Disaster Recovery solution:  Install-SiteRecoveryManager Install-vSphereReplicationManager Connect-DRSolutionTovCenter Install-VAMICertificate Backup-VMOvfProperties Restore-VMOvfProperties Copy-vRealizeLoadBalancer   Added New-vRSLCMLockerPassword cmdlet to support adding passwords to the vRealize Lifecycle Suite Manager Locker Added New-vRSLCMLockerLicense cmdlet to support adding licenses to the vRealize Lifecycle Suite Manager Locker Enhanced Add-VmStartupRule to check both VM Groups exists before attempting to create the VM-to-VM Group Enhanced Add-ContentLibrary to support creation of both Published and Subscription Content Libraries Added Add-VmGroup cmdlet to support adding Virtual Machines to existing VM Groups (Availability Zones in particular) Fixed Set-vCenterPermission where a failure can occur if the workload domain does not follow the same naming as the vCenter Server  ","link":"https://garyjblake.github.io/post/vvs-whats-new/edition-01/","section":"post","tags":[],"title":"What's New for VMware Validated Solutions - Edition #1"},{"body":"I work at VMware in the UK as a Senior Staff Solution Architect within the Cloud Infrastructure Business Group (CIBG) which is a global team responsible for the solution design for VMware Cloud Foundation, VMware Validated Solutions. I have been working in the IT industry for over 20+ years spending a large amount of this time working for various consulting organizations. Since 2005 I have specialized in Virtualization technologies. My blog is used to simply share my experiences and knowledge with others.\n","link":"https://garyjblake.github.io/about/","section":"","tags":null,"title":"About"},{"body":"","link":"https://garyjblake.github.io/archive/","section":"archive","tags":null,"title":"Archives"},{"body":"","link":"https://garyjblake.github.io/tags/index/","section":"tags","tags":null,"title":"index"}]