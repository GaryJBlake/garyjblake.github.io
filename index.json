[{"body":"","link":"http://jadenetworksolutions.co.uk/","section":"","tags":null,"title":""},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/","section":"categories","tags":null,"title":"Categories"},{"body":"","link":"http://jadenetworksolutions.co.uk/post/","section":"post","tags":["index"],"title":"Posts"},{"body":"","link":"http://jadenetworksolutions.co.uk/series/","section":"series","tags":null,"title":"Series"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/","section":"tags","tags":null,"title":"Tags"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/vmware-validated-solutions/","section":"categories","tags":null,"title":"VMware Validated Solutions"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/vvs/","section":"tags","tags":null,"title":"VVS"},{"body":"","link":"http://jadenetworksolutions.co.uk/series/vvs-whats-new/","section":"series","tags":null,"title":"VVS Whats New"},{"body":"Last Updated 31-05-2022 VMware Validated Solutions are byte sized solutions developed to extend the foundational capabilities of VMware Cloud Foundation, for background reading see my previous post here. Over time the team intends to add incremental value where opportunities arise and I plan to share as much detail as I can with each new update using my What's New for VMware Validated Solutions series of blog posts. I've decided to create this single landing page where I will provide a consolidated list of links to the relevant Editions of this series so you can bookmark this single page for ease of use.\nRemember to check back from time to time!\nWhat’s New for VMware Validated Solutions - Edition #1 (Oct 2021) What's New for VMware Validated Solutions - Edition #2 (Oct 2021) What's New for VMware Validated Solutions - Edition #3 (Nov 2021) What's New for VMware Validated Solutions - Edition #4 (Jan 2022) What's New for VMware Validated Solutions - Edition #5 (Feb 2022) What's New for VMware Validated Solutions - Edition #6 (Mar 2022) What's New for VMware Validated Solutions - Edition #7 (Apr 2022) What's New for VMware Validated Solutions - Edition #8 (May 2022) ","link":"http://jadenetworksolutions.co.uk/post/vvs-whats-new/whats-new-index/","section":"post","tags":["VVS"],"title":"What's New for VMware Validated Solutions - Blog Index"},{"body":"Last Updated: 31-May-2022\nWelcome to Edition #8 of the What's New for VMware Validated Solutions, today we are announcing the following updates:\nAdded support for VMware Cloud Foundation 4.4.1 Added automation based on the PowerValidatedSolutions v1.7.0 release Release of PowerValidatedSolutions v1.7.0, our PowerShell module developed to ensure robustness, consistency, and accelerate implementation Added Support for VMware Cloud Foundation 4.4.1 Delighted to announce support for VMware Cloud Foundation 4.4.1.\nIdentity and Access Management for VMware Cloud Foundation Developer Ready Infrastructure for VMware Cloud Foundation Intelligent Logging and Analytics for VMware Cloud Foundation Intelligent Operations Management for VMware Cloud Foundation Private Cloud Automation for VMware Cloud Foundation Site Protection and Disaster Recovery for VMware Cloud Foundation Site Protection and Disaster Recovery for VMware Cloud Foundation Updates Implementation Additional PowerValidatedSolutions Automation\nAdd a Network Adapter and Configure Static Routes for vSphere Replication (Set-vSRNetworkConfig) Create a VMkernel Adapter on the ESXi Hosts for vSphere Replication Traffic (New-vSRVMkernelPort) Configure ESXi Host Static Routes for vSphere Replication (New-vSREsxiStaticRoute) Assign Licenses to Site Recovery Manager (Set-SRMLicenseConfig) General Availability of PowerValidatedSolutions v1.7.0 Release of PowerValidatedSolutions v1.7.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository):\nAdded Set-vSRNetworkConfig cmdlet to configure a secondary ethernet adapter and the required routing for vSphere Replication appliances in the protected and recovery sites Added Undo-vSRNetworkConfig cmdlet to remove the secondary ethernet adapter and its configuration from vSphere Replication appliances in the protected and recovery sites Added New-vSRVMkernelPort cmdlet to create VMkernel ports on ESXi hosts for vSphere Replication traffic in the protected and recovery sites. Added Undo-vSRVMkernelPort cmdlet to remove VMkernel ports on ESXi hosts for vSphere Replication traffic in the protected and recovery sites. Added New-vSREsxiStaticRoute cmdlet to create a static route on ESXi hosts for vSphere Replication traffic in the protected and recovery sites. Added Undo-vSREsxiStaticRoute cmdlet to remove a static route on ESXi hosts for vSphere Replication traffic in the protected and recovery sites. Added Set-SRMLicenseConfig cmdlet to configure the license for Site Recovery Manager in the protected and recovery sites. Added Undo-SRMLicenseConfig cmdlet to remove the license configuration from Site Recovery Manager in the protected and recovery sites. ","link":"http://jadenetworksolutions.co.uk/post/vvs-whats-new/edition-08/","section":"post","tags":["VVS"],"title":"What's New for VMware Validated Solutions - Edition #8 (May 2022)"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/api/","section":"tags","tags":null,"title":"API"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/powershell/","section":"tags","tags":null,"title":"PowerShell"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/powervcf/","section":"categories","tags":null,"title":"PowerVCF"},{"body":" It's been a while since the last update but I'm pleased to announce the general availability of PowerVCF v2.2.0 for download from the PowerShell Library. PowerVCF is a open source project and the team works on adding support when time permits.\nDownload It Here: PowerVCF v2.2.0 PowerShell Library Download\nFixes Fixed Get-VCFApplicationVirtualNetwork cmdlet when passing the ID of the Application Virtual Network the response was failing. Enhancements Updated Get-VCFFederation cmdlet to check the system version, multi-instance management is deprecated in VMware Cloud Foundation v4.4.0. Updated Set-VCFFederation cmdlet to check the system version, multi-instance management is deprecated in VMware Cloud Foundation v4.4.0. Updated Remove-VCFFederation cmdlet to check the system version, multi-instance management is deprecated in VMware Cloud Foundation v4.4.0. Updated Get-VCFFederationMember cmdlet to check the system version, multi-instance management is deprecated in VMware Cloud Foundation v4.4.0. Updated New-VCFFederationInvite cmdlet to check the system version, multi-instance management is deprecated in VMware Cloud Foundation v4.4.0. Updated Join-VCFFederation cmdlet to check the system version, multi-instance management is deprecated in VMware Cloud Foundation v4.4.0. Updated Get-VCFFederationTask cmdlet to check the system version, multi-instance management is deprecated in VMware Cloud Foundation v4.4.0. Updated Request-VCFToken cmdlet to support -skipCertificateCheck switch and removed the alias for Connect-VCFToken. Updated Connect-CloudBuilder cmdlet to support -skipCertificateCheck switch. Updated Get-VCFCredentialTask cmdlet to support -status validation set. Additions Added Get-VCFHealthSummaryTask cmdlet to retrieve health summary tasks Added Start-VCFHealthSummary cmdlet to start a health check Added Request-VCFHealthSummaryBundle cmdlet to download the health summary bundle Added Get-VCFSupportBundleTask cmdlet to retrieve support bundle tasks Added Start-VCFSupportBundle cmdlet to start a support bundle collection Added Request-VCFSupportBundle cmdlet to download the support bundle Added Get-VCFPSC cmdlet to support the retrieval of Platform Services Controllers from the SDDC Manager inventory. ","link":"http://jadenetworksolutions.co.uk/post/powervcf/powervcf-ga-220/","section":"post","tags":["API","PowerShell","VCF"],"title":"PowerVCF v2.2.0 - General Availability"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/vcf/","section":"tags","tags":null,"title":"VCF"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/vmware-cloud-foundation/","section":"categories","tags":null,"title":"VMware Cloud Foundation"},{"body":"Last Updated: 28-Apr-2022\nWelcome to Edition #7 of the What's New for VMware Validated Solutions, today we are announcing the following updates:\nAdditional automation based on the PowerValidatedSolutions v1.6.0 release Release of PowerValidatedSolutions v1.6.0, our PowerShell module developed to ensure robustness, consistency, and accelerate implementation Identity and Access Management for VMware Cloud Foundation Solution Interoperability Additional PowerValidatedSolutions Automation\nAdd a VMware Identity Manager Adapter for the Standalone Workspace ONE Access Instance (Add-vROPSAdapterIdentityManager) Intelligent Logging and Analytics for VMware Cloud Foundation Updates Solution Interoperability Additional PowerValidatedSolutions Automation\nReconfigure the Remote Collector Group for the vRealize Log Insight Integration (Update-vROPSAdapterCollecterGroup) Site Protection and Disaster Recovery for VMware Cloud Foundation Updates Implementation Additional PowerValidatedSolutions Automation\nReconfigure DNS and Domain Search on the vRealize Automation Nodes (Set-vRADnsConfig) Reconfigure NTP on vRealize Automation (Set-vRANtpConfig) Create a Port Group for vSphere Replication Traffic (New-vSRPortGroup) Create a Site Pair Between the Protected and Recovery VMware Cloud Foundation Instances (New-SRMSitePair) Configure Mappings between the Protected and the Recovery VMware Cloud Foundation Instances (Add-SRMMapping) General Availability of PowerValidatedSolutions v1.6.0 Release of PowerValidatedSolutions v1.6.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository):\nFixed Add-vROPSAdapterNsxt cmdlet so that the description is maintained when validating the certificate of the NSX-T Adapter Added Add-vROPSAdapterIdentityManager cmdlet to support adding a new Identity Manager Adapter in vRealize Operations Manager. Added Undo-vROPSAdapter cmdlet to support the removal of an Adapter from vRealize Operations Manager. Added Undo-vROPSCredential cmdlet to support the removal of an Adapter Credential from vRealize Operations Manager. Added Update-vROPSAdapterCollecterGroup cmdlet tto support updating the collector group for an Adapter in vRealize Operations Manager Added Set-vRADnsConfig cmdlet to configure the DNS server(s) and DNS search domain(s) on vRealize Automation to use custom settings. Added Undo-vRADnsConfig cmdlet to revert the DNS configuration of vRealize Automation to match SDDC Manager. Added Set-vRANtpConfig cmdlet to configure the NTP server(s) on vRealize Automation to use custom settings. Added Undo-vRANtpConfig cmdlet to revert the NTP configuration of vRealize Automation to match SDDC Manager. Added Add-SRMMapping cmdlet to create a mapping between objects (folder, network, or compute resource) in the protected and failover VCF instances in Site Recovery Manager Added Undo-SRMMapping cmdlet to remove a mapping between objects (folder, network, or compute resource) in the protected and failover VCF instances in Site Recovery Manager Added New-SRMSitePair cmdlet to create a site pair between Site Recovery Manager instances Added Undo-SRMSitePair cmdlet to remove an existing site pair between Site Recovery Manager instances. Added New-vSRPortGroup cmdlet to create port groups for vSphere Replication appliances in the protected and recovery sites. Added Undo-vSRPortGroup cmdlet to remove port groups for vSphere Replication appliances in the protected and recovery sites. ","link":"http://jadenetworksolutions.co.uk/post/vvs-whats-new/edition-07/","section":"post","tags":["VVS"],"title":"What's New for VMware Validated Solutions - Edition #7 (Apr 2022)"},{"body":"Last Updated: 29-Mar-2022\nWelcome to Edition #6 of the What's New for VMware Validated Solutions, today we are announcing the following changes:\nAdditional automation based on the PowerValidatedSolutions v1.5.0 release Additional Operational Guidance (example Personas) Additional automation for procedures within Solution Interoperability section Identity and Access Management for VMware Cloud Foundation Solution Interoperability Design Decision Changes\nIAM-WSA-LOG-003 - Configure a dedicated Workspace ONE Access agent group and assign the standalone Workspace ONE Access FQDN (NEW) IAM-WSA-LOG-004 - Configure a dedicated Photon OS agent group and assign the standalone Workspace ONE Access FQDN. (NEW) Procedure Changes\nCombined the below procedures into Install and Configure the vRealize Log Insight Agent on the Standalone Workspace ONE Access Appliance Download and Install the vRealize Log Insight Agent on the Standalone Workspace ONE Access Appliance Configure the vRealize Log Insight Agent on the Standalone Workspace ONE Access Appliance Additional PowerValidatedSolutions Automation\nInstall and Configure the vRealize Log Insight Agent on the Standalone Workspace ONE Access Appliance (Install-vRLIPhotonAgent) Create a vRealize Log Insight Identity Manager Agent Group for the Standalone Workspace ONE Access (Add-vRLIAgentGroup) Create a vRealize Log Insight Photon OS Agent Group for the Standalone Workspace ONE Access (Add-vRLIAgentGroup) Developer Ready Infrastructure for VMware Cloud Foundation Implementation Additional PowerValidatedSolutions Automation\nReplace the Supervisor Cluster Kubernetes API Endpoint Certificate (Request-SignedCertificate) License the Supervisor Cluster (Add-SupervisorClusterLicense) Intelligent Logging and Analytics for VMware Cloud Foundation Updates Operational Guidance Example Personas to illustrate product role to organization role assignments Solution Interoperability Design Decision Changes\nILA-VRLI-MON-005 - Configure the vRealize Log Insight adapter to use the remote collector group (NEW) ILA-VRLI-MON-006 - Add a Ping adapter for the vRealize Log Insight cluster nodes (NEW) Additional PowerValidatedSolutions Automation\nAdd a Ping adapter for the vRealize Log Insight cluster nodes (Add-vROPSAdapterPing) Intelligent Operations Management for VMware Cloud Foundation Updates Operational Guidance Example Personas to illustrate product role to organization role assignments Solution Interoperability Design Decision Changes\nIOM-VROPS-LOG-005 - Configure a dedicated Photon OS agent group and assign the vRealize Operations Manager Cluster and Remote Collector Node FQDNs (CHANGED) Procedure Changes\nChanged from Add the vRealize Operations Manager Nodes to the vRealize Log Insight Photon OS Agent Group to Create a vRealize Log Insight Photon OS Agent Group for the vRealize Operations Manager Nodes Additional PowerValidatedSolutions Automation\nCreate a vRealize Log Insight Photon OS Agent Group for the vRealize Operations Manager Nodes (Add-vRLIAgentGroup) Private Cloud Automation for VMware Cloud Foundation Updates Operational Guidance Example Personas to illustrate product role to organization role assignments Solution Interoperability Design Decision Changes\nPCA-VRA-MON-005 - Add a Ping adapter for the vRealize Automation cluster nodes (NEW) Original PCA-VRA-MON-005 becomes PCA-VRA-MON-006 (CHANGED) Original PCA-VRA-MON-006 becomes PCA-VRA-MON-007 (CHANGED) PCA-VRA-LOG-004 - Configure a dedicated Photon OS agent group and assign the vRealize Automation Cluster FQDNs (CHANGED) Procedure Changes\nChanged from Add the vRealize Automation Cluster Nodes to the vRealize Log Insight Photon OS Agent Group to Create a vRealize Log Insight Photon OS Agent Group for the vRealize Automation Cluster Nodes Additional PowerValidatedSolutions Automation\nAdd a Ping adapter for the vRealize Automation cluster nodes (Add-vROPSAdapterPing) Create a vRealize Log Insight Photon OS Agent Group for the vRealize Automation Cluster Nodes (Add-vRLIAgentGroup) Site Protection and Disaster Recovery for VMware Cloud Foundation Updates Implementation Additional PowerValidatedSolutions Automation\nReconfigure DNS and Domain Search on the vRealize Suite Lifecycle Manager Appliance (Set-vRSLCMDnsConfig) Reconfigure NTP on the vRealize Suite Lifecycle Manager Appliance (Add-vRSLCMNtpServer) Reconfigure DNS and Domain Search on the Clustered Workspace ONE Access Nodes (Set-WorkspaceOneDnsConfig) Reconfigure NTP on the Clustered Workspace ONE Access Nodes (Set-WorkspaceOneNtpConfig) Reconfigure DNS and Domain Search on the vRealize Operations Manager Analytics Cluster Nodes (Set-vROPSDnsConfig) Reconfigure NTP on the vRealize Operations Manager Analytics Cluster Nodes (Add-vROPSNtpServer) Solution Interoperability Design Decision Changes\nSPR-SRM-LOG-002 - Configure the vRealize Log Insight agent to transmit logs from the Site Recovery Manager instance to the adjacent vRealize Log Insight in the VMware Cloud Foundation instance using the vRealize Log Insight ingestion API, cfapi, on port 9000 (NEW) Original SPR-SRM-LOG-002 becomes SPR-SRM-LOG-003 (CHANGED) SPR-SRM-LOG-004 - Configure the vRealize Log Insight agent to transmit logs from the vSphere Replication instance to the adjacent vRealize Log Insight in the VMware Cloud Foundation instance using the vRealize Log Insight ingestion API, cfapi, on port 9000 (NEW) SPR-SRM-LOG-005 - Configure a dedicated Photon OS agent group and assign the Site Recovery Manager and vSphere Replication FQDNs (CHANGED) Procedure Changes\nCombined the below procedures into Install and Configure the vRealize Log Insight Agent on the Site Recovery Manager and vSphere Replication Appliances Download and Install the vRealize Log Insight Agent on the Site Recovery Manager and vSphere Replication Appliances Configure the vRealize Log Insight Agent on the Site Recovery Manager and vSphere Replication Appliances Changed from Add the Site Recovery Manager and the vSphere Replication Appliances to the vRealize Log Insight Photon OS Agent Group to Create a vRealize Log Insight Photon OS Agent Group for Site Recovery Manager and the vSphere Replication Additional PowerValidatedSolutions Automation\nInstall and Configure the vRealize Log Insight Agent on the Site Recovery Manager and vSphere Replication Appliances (Install-vRLIPhotonAgent) Create a vRealize Log Insight Photon OS Agent Group for Site Recovery Manager and the vSphere Replication (Add-vRLIAgentGroup) General Availability of PowerValidatedSolutions v1.5.0 Release of PowerValidatedSolutions v1.5.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository):\nEnhanced Add-SsoPermission cmdlet to verify that the SSO Group exists in vCenter Single Sign-On. Enhanced Enable-SupervisorCluster cmdlet additional enhancements around pre-validation of inputs. Enhanced Add-vRLIAgentGroup cmdlet to support adding multiple Agent Groups of the same type. Enhanced Add-vROPSAdapterNsxt cmdlet to support defaulting to Default collector group rather than using custom remote collector group. Enhanced Add-vROPSAdapterPing cmdlet to support defaulting to Default collector group rather than using custom remote collector group. Enhanced Set-WorkspaceOneNtpConfig cmdlet to support updating NTP configuration for Clustered Workspace ONE Access Added Undo-WorkspaceOneNsxtIntegration cmdlet to disable the integration between NSX Manager and Workspace ONE Access. Added Undo-SsoPermission cmdlet to remove a user or group's access from vCenter Single Sign-On. Added Undo-NsxtVidmRole cmdlet to remove user or group's access from NSX-T Data Center. Added Undo-ClusterGroup cmdlet to remove a vSphere DRS Cluster Group. Added Undo-vCenterGlobalPermission cmdlet to remove vSphere Global Permissions from vCenter Server. Added Undo-vSphereRole cmdlet to remove a custom vSphere Role from vCenter Server. Added Undo-AntiAffinityRule cmdlet to remove an Anti-Affinity Rule from vCenter Server. Added Undo-VmStartupRule cmdlet to remove a VM to VM vSphere DRS Rule from vCenter Server. Added Undo-WorkspaceOneDirectoryGroup cmdlet to remove Active Directory Groups from Workspace ONE Access Directory sync. Added Add-SupervisorClusterLicense cmdlet to install and assign a license to a Supervisor Cluster. Added Request-SignedCertificate cmdlet to request a signed certificate from a Microsoft Certificate Authority. Added Set-vRSLCMDnsConfig cmdlet to update the DNS configuration of vRealize Suite Lifecycle Manager. Added Undo-vRSLCMDnsConfig cmdlet to revert the DNS configuration of vRealize Suite Lifecycle Manager to match SDDC Manager. Added Add-vRSLCMNtpServer cmdlet to add NTP Servers to vRealize Suite Lifecycle Manager. Added Undo-vRSLCMNtpServer cmdlet to revert the NTP configuration of vRealize Suite Lifecycle Manager to match SDDC Manager. Added Set-WorkspaceOneDnsConfig cmdlet to update the DNS configuration of Workspace ONE Access. Added Undo-WorkspaceOneDnsConfig cmdlet to revert the DNS configuration of Workspace ONE Access to match SDDC Manager. Added Set-vROPSDnsConfig cmdlet to update the DNS configuration of vRealize Operations Manager. Added Undo-vROPSDnsConfig cmdlet to revert the DNS configuration of vRealize Operations Manager to match SDDC Manager. Added Add-vROPSNtpServer cmdlet to add NTP Servers to vRealize Operations Manager. Added Undo-vROPSNtpServer cmdlet to revert the NTP configuration of vRealize Operations Manager to match SDDC Manager. Added Sample Scripts in the SampleScripts\\iam folder, each script uses the Planning and Preparation Workbook as the input source: iamUndoDeployment.ps1 automates the removal of the Identity and Access Management for VMware Cloud Foundation validated solution. Updated Sample Scripts in the SampleScripts\\iam folder, each script uses the Planning and Preparation Workbook as the input source: iamConfigureWorkspaceOne.ps1 updated input values to use latest VCF 4.4.x Planning and Prep Workbook. Added Sample Scripts in the SampleScripts\\dri folder, each script uses the Planning and Preparation Workbook as the input source: driConfigureSupervisorCluster.ps1 automates the configuration of vSphere, NSX and enables the Supervisor Cluster. driDeployTanzuCluster.ps1 automates the the deployment of a Tanzu Kubernetes Cluster. driUndoDeployment.ps1 automates the removal of the Developer Ready Infrastructure for VMware Cloud Foundation validated solution. Added Sample Scripts in the SampleScripts\\ila folder, each script uses the Planning and Preparation Workbook as the input source: ilaUndoVrealizeLogInsight.ps1 automates the removal of Intelligent Logging and Analytics for VMware Cloud Foundation validated solution. ","link":"http://jadenetworksolutions.co.uk/post/vvs-whats-new/edition-06/","section":"post","tags":["VVS"],"title":"What's New for VMware Validated Solutions - Edition #6 (Mar 2022)"},{"body":"Last Updated: 22-Feb-2022\nWelcome to Edition #5 of the What's New for VMware Validated Solutions, today we are announcing the following changes:\nAdditional support for VMware Cloud Foundation 4.4.0 Additional automation across solutions based on the PowerValidatedSolutions v1.4.0 release Added Support for VMware Cloud Foundation 4.4.0 Delighted to announce support for VMware Cloud Foundation 4.4.0.\nIdentity and Access Management for VMware Cloud Foundation Developer Ready Infrastructure for VMware Cloud Foundation Intelligent Logging and Analytics for VMware Cloud Foundation Intelligent Operations Management for VMware Cloud Foundation Private Cloud Automation for VMware Cloud Foundation Site Protection and Disaster Recovery for VMware Cloud Foundation Advanced Load Balancer for VMware Cloud Foundation Identity and Access Management for VMware Cloud Foundation Added a procedure for configuring a Ping adapter for the standalone Workspace ONE Access. Uses PowerValidatedSolutions PowerShell module version 1.4.0. Validated solution now requires installation of the ImportExcel PowerShell module, when reading directly from the Planning and Preparation Workbook. Developer Ready Infrastructure for VMware Cloud Foundation Enhanced all Developer Ready Infrastructure Solution cmdlets for better error handling and message output Added Undo cmdlets to allow the rollback of procedures. Uses PowerValidatedSolutions PowerShell module version 1.4.0. Validated solution now requires installation of the ImportExcel PowerShell module, when reading directly from the Planning and Preparation Workbook. Intelligent Logging and Analytics for VMware Cloud Foundation Updates Added support for the Create Alerts in vRealize Log Insight procedure. Starting with VMware Cloud Foundation 4.4, installation and life cycle management of vRealize Log Insight is performed by using vRealize Suite Lifecycle Manager. Uses PowerValidatedSolutions PowerShell module version 1.4.0. Validated solution now requires installation of the ImportExcel PowerShell module, when reading directly from the Planning and Preparation Workbook. Intelligent Operations Management for VMware Cloud Foundation Updates Added a procedure for configuring Ping adapters for the clustered Workspace ONE Access. Starting with VMware Cloud Foundation 4.4, installation and life cycle management of vRealize Log Insight is performed by using vRealize Suite Lifecycle Manager. Uses PowerValidatedSolutions PowerShell module version 1.4.0. Validated solution now requires installation of the ImportExcel PowerShell module, when reading directly from the Planning and Preparation Workbook. Private Cloud Automation for VMware Cloud Foundation Updates Starting with VMware Cloud Foundation 4.4, installation and life cycle management of vRealize Log Insight is performed by using vRealize Suite Lifecycle Manager. Required storage for installation of vRealize Automation 8.6.2 is 738 GB compared to 708 GB for vRealize Automation 8.5 and earlier. Added design decision and procedure to install and use the vRealize Orchestrator content pack for vRealize Log Insight as part of the logging section in the solution. Uses PowerValidatedSolutions PowerShell module version 1.4.0. Validated solution now requires installation of the ImportExcel PowerShell module, when reading directly from the Planning and Preparation Workbook. Site Protection and Disaster Recovery for VMware Cloud Foundation Updates Uses PowerValidatedSolutions PowerShell module version 1.4.0. Advanced Load Balancer for VMware Cloud Foundation Updates Extend support for VMware Cloud Foundation 4.3.1 and 4.4.0. Enable support for Avi with Cloud Services (SaaS subscription). General Availability of PowerValidatedSolutions v1.4.0 Release of PowerValidatedSolutions v1.4.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository):\nEnhanced all Developer Ready Infrastructure Solution cmdlets for better error handling and message output. Added Undo-NetworkSegment cmdlet to remove an NSX segment from an NSX Management Cluster. Added Undo-PrefixList cmdlet to remove an NSX Prefix List from an NSX Management Cluster. Added Undo-RouteMap cmdlet to remove an NSX Route Map from an NSX Management Cluster. Added Undo-DatastoreTag cmdlet to remove the vSphere Tag and Category from a datastore in vCenter Server. Added Undo-StoragePolicy cmdlet to remove a VM vSphere Storage Policy from vCenter Server. Added Undo-Registry cmdlet to disable the Embedded Harbor Registry on the Supervisor Cluster. Added Undo-SupervisorCluster cmdlet to remove the Supervisor Cluster. Added Undo-ContentLibrary cmdlet to remove a Content Library from the Workload Domain vCenter Server. Added Undo-Namespace cmdlet to remove a Namespace from the Supervisor Cluster. Added Undo-NamespacePermission cmdlet to remove permissions from a Namespace. Added Undo-TanzuKubernetesCluster cmdlet to remove a Tanzu Kubernetes Cluster from the Supervisor Cluster. Added Add-NsxtNodeProfileSyslogExporter cmdlet to add a syslog exporter to the default node profile or specified node profile id. Added Undo-NsxtNodeProfileSyslogExporter cmdlet to remove all syslog exporter from the default node profile or specified node profile id. ","link":"http://jadenetworksolutions.co.uk/post/vvs-whats-new/edition-05/","section":"post","tags":["VVS"],"title":"What's New for VMware Validated Solutions - Edition #5 (Feb 2022)"},{"body":"Last Updated: 25-Jan-2022\nWelcome to Edition #4 of the What's New for VMware Validated Solutions, today we are announcing the following changes:\nAdditional support for Dell VxRail Additional automation across solutions based on the PowerValidatedSolutions v1.3.0 release Added Support for VMware Cloud Foundation 4.3.0 / 4.3.1 on VxRail Delighted to announce support for the following Validated Solutions running on Dell VxRail based systems in addition to vSAN Ready Nodes.\nSite Protection and Disaster Recovery for VMware Cloud Foundation Intelligent Logging and Analytics for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\nCreate Alerts in vRealize Log Insight (Add-vRLIAlertVirtualMachine and Add-vRLIAlertDatacenter) Intelligent Operations Management for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\nConfigure User Access in vRealize Operations Manager (Import-vROPSUserGroup) Configure Email Alert Plug-in Settings for vRealize Operations Manager (Add-vROPSAlertPluginEmail) Install the SDDC Health Monitoring Solution in vRealize Operations Manager (Enable-vROPSManagementPack) Rename the SDDC Health Adapters for the vRealize Operations Manager Analytics Cluster Nodes (Update-vROPSAdapterSddcHealth) Add SDDC Health Adapters for the vRealize Operations Manager Remote Collector Nodes (Add-vROPSAdapterSddcHealth) Activate the Ping Management Pack in vRealize Operations Manager (Register-vROPSManagementPack) Add Ping Adapters for the vRealize Operations Manager Nodes (Add-vROPSAdapterPing) Create Notifications in vRealize Operations Manager for VMware Cloud Foundation Issues (Import-vROPSNotification) Private Cloud Automation for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\nCreate a Virtual Machine and Template Folder and a Resource Pool for the vRealize Automation-Managed Workloads on the VI Workload Domain vCenter Server (Add-VMFolder and Add-ResourcePool) Configure the Organization Name for vRealize Automation (Update-vRAOrganizationDisplayName) Add Cloud Accounts for the VI Workload Domains to vRealize Automation (New-vRACloudAccount) Configure the Cloud Zones in vRealize Automation (Update-vRACloudAccountZone) Import the Trusted Certificates to vRealize Orchestrator (Add-vROTrustedCertificate) Restrict the vRealize Automation and vRealize Orchestrator Service Accounts Access to Virtual Machine and Datastore Folders in the VI Workload Domain (Set-vCenterPermission) Configure Email Alerts in Service Broker (Add-vRANotification) Configure Service Account Permissions for the vRealize Automation to NSX-T Data Center Integration on the VI Workload Domain NSX Manager Cluster (Add-NsxtVidmRole) Add the VI Workload Domain vCenter Server to vRealize Orchestrator (Add-vROvCenterServer) Assign Organization and Service Roles to the vRealize Operations Manager Service Account in vRealize Automation (Add-vRAUser) Assign Organization and Service Roles to the Groups for vRealize Automation (Add-vRAGroup) Developer Ready Infrastructure for VMware Cloud Foundation Updates Implementation Updates to the following procedures based on PowerValidatedSolutions v1.3.0.\nImprovements to the pre-validation of the PowerShell procedure for Deploy a Supervisor Cluster for Developer Ready Infrastructure Updated the Replace the Supervisor Cluster Kubernetes API Endpoint Certificate for Developer Ready Infrastructure PowerShell procedure (Enable-SupervisorCluster) Site Protection and Disaster Recovery for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\nCreate Anti-Affinity Rules for the Placeholder Virtual Machines in the Recovery VMware Cloud Foundation Instance (Add-AntiAffinityRule) Create Virtual Machine Groups and Restart Order in the Recovery VMware Cloud Foundation Instance (Add-ClusterGroup and Add-VmStartupRule) General Availability of PowerValidatedSolutions v1.3.0 Release of PowerValidatedSolutions v1.3.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository):\nFixed Fixed New-vRSLCMLockerLicense cmdlet where depending on the speed of the system the license would be added but POST_VALIDATION would fail. Enhancements Enhanced all Identity and Access Management Solution cmdlets for better error handling and message output. Enhanced all vRealize Operations Manager cmdlets for better error handling and message output. Enhanced all vRealize Log Insight cmdlets for better error handling and message output. Enhanced all vRealize Automation cmdlets for better error handling and message output. Enhanced Set-vCenterPermission cmdlet to set permissions on non-nested folders. Enhanced Enable-SupervisorCluster cmdlet with better pre-validation. Renamed Add-NsxtVidmGroupRole cmdlet to Add-NsxtVidmRole, to add support for assigning both users and groups roles in NSX-T Data Center. Additions Added Add-ResourcePool cmdlet to create a resource pool in the Workload Domain specified. Added Undo-ResourcePool cmdlet to remove a resource pool based on the Workload Domain specified. Added Update-vRAOrganizationDisplayName cmdlet to configure the Organization Display Name in vRealize Automation. Added Add-vROPSAdapterPing cmdlet to add a Ping Adapter to vRealize Operations Manager Added Enable-vROPSManagementPack cmdlet to upload and install the SDDC Health Management Pack to vRealize Operations Manager Added Update-vROPSAdapterSddcHealth cmdlet to rename the SDDC Health Adapters in vRealize Operations Manager Added Add-vROPSAdapterSddcHealth cmdlet to add SDDC Health Adapters for the Remote Collectors in vRealize Operations Manager Added Add-vROPSAlertPluginEmail cmdlet to add an Email Alert Plugin to vRealize Operations Manager Added Register-vROPSManagementPack cmdlet to activate / deactivate Native Management Packs in vRealize Operations Manager Added Import-vROPSUserGroup cmdlet to import a user group and assign access in vRealize Operations Manager Added Add-vROvCenterServer cmdlet to add a workload domain vCenter Server instance to the embedded vRealize Orchestrator. Added Remove-vROvCenterServer cmdlet to remove a workload domain vCenter Server instance from the embedded vRealize Orchestrator. Added Add-vROTrustedCertificate cmdlet to import a trusted certificate to the embedded vRealize Orchestrator using a PEM-encoded file. Added Import-vROPSNotification cmdlet to import notifications using comma separated value file to vRealize Operations Manager. Added Add-vRANotification cmdlet to configure the smtp notification settings in vRealize Automation. Added New-vRACloudAccount cmdlet to add Cloud Accounts for a Workload Domains vCenter Server and NSX Management Cluster in vRealize Automation. Added Undo-vRACloudAccount cmdlet to remove the Cloud Accounts for a Workload Domains vCenter Server and NSX Management Cluster in vRealize Automation. Added Update-vRACloudAccountZone cmdlet to update the configuration of the Cloud Account Zone for a Workload Domain in vRealize Automation. Added Add-vRAUser cmdlet to add an organization role and a service role to a user account in vRealize Automation. Added Undo-vRAUser cmdlet to remove an organization role and all service roles from a user account in vRealize Automation. Added Add-vRAGroup cmdlet to add an organization role and a service role to a group in vRealize Automation. Added Undo-vRAGroup cmdlet to remove an organization role and all service roles from a group account in vRealize Automation. Added Undo-IdentitySource cmdlet to remove an Identity Provider from vCenter Server. Added Undo-SddcManagerRole cmdlet to remove access for a user in SDDC Manager. Added Add-SsoUser cmdlet to add a Single Sign-On domain user. Added New-vRSLCMDatacenter cmdlet to add a datacenter in vRealize Suite Lifecycle Manager. Added Undo-vRSLCMDatacenter cmdlet to remove a datacenter from vRealize Suite Lifecycle Manager. Added New-vRSLCMDatacenterVcenter cmdlet to add a vCenter Server to a datacenter in vRealize Lifecycle Manager. Added Export-WSAJsonSpec cmdlet to generate the deployment JSON for Clustered Workspace ONE Access. Added New-WSADeployment cmdlet to trigger the deployment of Clustered Workspace ONE Access via vRealize Suite Lifecycle Maneger. Added Add-WorkspaceOneDirectoryConnector cmdlet to add a connector to the Identity Provider in Workspace ONE Access. Added Add-vRLIAlertDatacenter cmdlet to create vRealize Log Insight alerts by datacenter Added Add-vRLIAlertVirtualMachine cmdlet to create vRealize Log Insight alerts by virtual machine Added Undo-vRLIAlert cmdlet to remove alerts from vRealize Log Insight. Added Sample Notification Templates in the SampleNotifications folder: vrli-vcf-datacenter.json defines the vRealize Log Insight alerts that should be configured for VMware Cloud Foundation at the datacenter level vrli-vcf-vmVrslcm.json defines the vRealize Log Insight alerts that should be configured for vRealize Suite Lifecycle Manager Added Sample Scripts in the SampleScripts\\iom folder, each script uses the Planning and Preparation Workbook as the input source: iomDeployVrealizeOperations.ps1 automates the install and config of vRealize Operations for Intelligent Operations Management for VMware Cloud Foundation. iomConfigureVrealizeOperations.ps1 automates the integration config of vRealize Operations for Intelligent Operations Management for VMware Cloud Foundation. Check them out now at https://vmware.com/go/vvs\n","link":"http://jadenetworksolutions.co.uk/post/vvs-whats-new/edition-04/","section":"post","tags":["VVS"],"title":"What's New for VMware Validated Solutions - Edition #4 (Jan 2022)"},{"body":"If your not already familiar with the Identity and Access Management for VMware Cloud Foundation Validated Solution it’s primary purpose is to provide customers a consistent way of integrating the foundational components of VMware Cloud Foundation (vCenter Server, NSX-T Data Center and SDDC Manager) with an organizations identify provider delivering operational consistency and flexibility.\nThe Identity and Access Management solution achieves this by connecting components using Active Directory over LDAP/LDAPS and utilizing Active Directory Global Groups to assign individual component level role access and then nested Global Groups to assign a collection of roles based on personas.\nThe roles and personas documented (here) should be considered as a minimum requirement when implementing the Identity and Access Management solution but there is nothing stopping customers adding more granular roles where possible or even personas that better align with their own organizations roles and responsibilities.\nNow you have a better understanding of what the Identity and Access Management for VMware Cloud Foundation Validated Solution provides let’s look at how we can automate the implementation. Each Validated Solution provides both UI and Infrastructure-as-code based procedures. The Infrastructure-as-code method is delivered through the use of a PowerShell module specifically created to support Validated Solutions called PowerValidatedSolutions, each UI based procedure has a PowerShell cmdlet equivalent that not only performs the operation but ensures pre and post validation checks are performed to provide robustness.\nIncluded with the PowerValidatedSolution PowerShell module which can be installed directly from the Microsoft PS Gallery there is a SampleScripts folder and contained within that a folder named iam which contains sample .ps1 script files. These sample scripts demonstrate linking multiple procedures into a single executable script using the Planning and Preparation Workbook as the input for all data.\nFor the Identity and Access Management solution this is broken down into three phases and therefore three scripts as follows:\nvSphere and SDDC Manager Workspace ONE Access NSX-T Data Center As already mentioned the scripts use the Planning and Preparation Workbook to obtain all the required inputs, this is the first step in the execution. The script checks that the path provided to the workbook is valid and then opens the workbook, reading the required information using named cells.\nOnce that step is complete it begins the process of executing each procedure based on the order of steps defined within the implementation guide.\nIn addition to providing the main cmdlets supporting the validated solution implementation procedures a number of cmdlets are included that provide supporting capabilities which are utilised by the scripts.\nStart-SetupLogFile - this cmdlet is used to configure a log file where the output of each step is logged. Write-LogMessage - this cmdlet is used to format the output of messages both to the console and log file. Debug-CatchWriter - this cmdlet is used to provide a consistent way of displaying exception errors should they occur. For each procedure executed by the script, the output is captured into variables and then redirected to the Write-LogMessage cmdlet for display to the console and log in a consistent way. There are three types of output messages :\nINFO - Used for informational messages and successful execution of a procedure. WARNING - Used when a procedure is skipped due to the process already being executed. ERROR - Used to display a failure along with the failure reason. Let’s now take a deeper look at the scripts.\nvSphere and SDDC Manager (iamConfigureVsphere.ps1) The iamConfigureVsphere.ps1 script automates all the procedures associated with ESXi, vCenter Server and SDDC Manager. This includes:\nAdd Identity Provider to vCenter Server. This adds Active Directory over LDAP or LDAPS to vCenter Server making Active Directory users and groups available to both vCenter Server and SDDC Manager for assigning access control. Assign Global Permissions. This assigns the vCenter Server Administrator and Read Only roles to corresponding groups in Active Directory. Assign Single Sign-On Permissions. This assigns the Single Sign-On Administrator role to a corresponding group in Active Directory. Configure vCenter Server Appliance password expiration policy. Configure Single Sign-On password and lockout polices. Assign SDDC Manager Roles. This assigns the Admin, Operator and Viewer roles to corresponding groups in Active Directory. Configure ESXi password and lockout polices. Execution of the iamConfigureVsphere.ps1 script is performed by using the following command:\n1.\\SampleScripts\\iam\\iamConfigureVsphere.ps1 -sddcManagerFqdn sfo-vcf01.sfo.rainpole.io -sddcManagerUser administrator@vsphere.local -sddcManagerPass VMw@re1! -workbook F:\\vvs\\PnP.xlsx -filePath F:\\vvs Workspace ONE Access (iamConfigureWorkspaceOne.ps1) The iamConfigureWorkspaceOne.ps1 script automates the deployment and configuration of Workspace ONE Access. This includes:\nCreating a Virtual Machine folder in vCenter Server. Deploying the Workspace ONE Access .ova. Performing the configuration of Workspace ONE Access: Initial configuration. This assigns the root, admin and sshuser credentials. Configure NTP settings. Configure SMTP server settings. Install a signed-certificate. Configure password policy. Add Identity Provider to Workspace ONE Access. This adds Active Directory over LDAP or LDAPS to Workspace ONE Access making Active Directory users and groups available. Assign Workspace ONE Access Permissions. This assigns the Super Admin, Directory Admin and Read Only Admin to corresponding groups in Active Directory. Create VM Group. This creates a VM Group in vCenter Server and assigns the Workspace ONE Access virtual machine to it. Execution of the iamConfigureWorkspaceOne.ps1 script is performed by using the following command:\n1.\\SampleScripts\\iam\\iamConfigureWorkspaceOne.ps1 -sddcManagerFqdn sfo-vcf01.sfo.rainpole.io -sddcManagerUser administrator@vsphere.local -sddcManagerPass VMw@re1! -workbook F:\\vvs\\PnP.xlsx -filePath F:\\vvs NSX-T Data Center (iamConfigureNsx.ps1) The iamConfigureNsx.ps1 script automates the integration between the NSX Managers and Workspace ONE Access. Whilst it is possible to configure NSX-T Data Center with a direct connection to Active Directory over LDAP, the Identity and Access Management solution uses Workspace ONE Access which provides additional methods for connecting to authentication sources. This includes:\nEnable Integration between NSX Manager and Workspace ONE Access. Assign NSX-T Data Center Permissions. This assigns Enterprise Admin, Network Engineer and Auditor roles to corresponding groups in Active Directory for both the Management and Workload Domains. Configure Authentication Policies. This configure the authentication policies on the NSX Manager and NSX Edge Nodes for both the Management and Workload Domains. Create a custom role in vCenter Server. Assign Single Sign-On Permissions. This assigns the License Administration role to the NSX Manager service account used by SDDC Manager. Reduce vCenter Server Permissions. This reduces the permissions a specific vCenter Server service account has for other vCenter Servers within the Single Sign-On domain. Execution of the iamConfigureNsx.ps1 script is performed by using the following command:\n1.\\SampleScripts\\iam\\iamConfigureNsx.ps1 -sddcManagerFqdn sfo-vcf01.sfo.rainpole.io -sddcManagerUser administrator@vsphere.local -sddcManagerPass VMw@re1! -workbook F:\\vvs\\PnP.xlsx -filePath F:\\vvs After execution of these scripts in the order described above, and assuming that each step completed successfully your environment is fully configured based on the design and implementation procedures documented within the Identity and Access Management for VMware Cloud Foundation Validated Solution.\n","link":"http://jadenetworksolutions.co.uk/post/vvs/vvs-post-01/","section":"post","tags":["API","PowerShell","VVS"],"title":"End-to-End Automation of Identity and Access Management Validated Solution"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/powercli/","section":"categories","tags":null,"title":"PowerCLI"},{"body":"","link":"http://jadenetworksolutions.co.uk/series/powervalidatedsolutions/","section":"series","tags":null,"title":"PowerValidatedSolutions"},{"body":"","link":"http://jadenetworksolutions.co.uk/series/vvs-tip/","section":"series","tags":null,"title":"VVS-Tip"},{"body":"Are you using the PowerValidatedSolutions PowerShell module? Have you found an issue that you want to report? Maybe you have an enhancement idea!\nThe source code for PowerValidatedSolutions can be found on Git Hub at https://github.com/vmware-samples/power-validated-solutions-for-cloud-foundation, from here you can log issues and enhancements. Fork the branch and provide direct contributions.\n","link":"http://jadenetworksolutions.co.uk/post/vvs-tips/vvs-tip-07/","section":"post","tags":["API","PowerShell"],"title":"VVS-Tip - Contributing to PowerValidatedSolutions Source Code"},{"body":"Did you know that the PowerShell module PowerValidatedSolution can be used for more than implementing the VMware Validated Solutions?\nWhilst the primary goal for the PowerShell module has been to enable a robust and automated way to implement the various procedures across solutions, its very nature unlocks the power for cmdlet's to be used across the VMware portfolio. One of the fundamental directives for our development work was to minimize the reliance on other PowerShell modules. There are many community based modules on PS Gallery some of which already provided some of the functionality we required however because they are community based future development is not guaranteed and we have no direct control to fix issues in a timely manner.\nWe do utilise PowerCLI first and foremost and for VMware Cloud Foundation APIs PowerVCF both of which are VMware developed but beyond that we have created an array of functions which support the following products:\nvCenter Server NSX-T Data Center Workspace ONE Access vRealize Suite Lifecycle Manager vRealize Log Insight vRealize Operations Manager vRealize Automation Download PowerValidatedSolutions and check them out.\n","link":"http://jadenetworksolutions.co.uk/post/vvs-tips/vvs-tip-06/","section":"post","tags":["API","PowerShell"],"title":"VVS-Tip - Unlocking Automation Capabilities with PowerValidatedSolutions"},{"body":" I'm pleased to announce the general availability of PowerVCF v2.1.7 for download from the PowerShell Library. PowerVCF is a open source project and the team works on adding support when time permits.\nDownload It Here: PowerVCF PowerShell Library Download\nFixes Fixed New-VCFClustercmdlet where incorrect braces prevented the ability to retrieve response information. Enhancements Renamed Set-VCFvRLIConnection cmdlet from Set-VCFvRLI to align with new Get-VCFvRLIConnection cmdlet. Renamed Set-VCFvROPSConnection cmdlet from Set-VCFvROPs to align with new Get-VCFvROPSConnection cmdlet. Updated New-VCFLicenseKey cmdlet to support additonal license types \u0026quot;WCP\u0026quot;, \u0026quot;NSXV\u0026quot;, \u0026quot;HORIZON_VIEW\u0026quot;. Updated Get-VCFvROPs cmdlet to display API output in an easier to read format. Updated Get-VCFWSA cmdlet to display API output in an easier to read format. Updated Get-VCFvRA cmdlet to display API output in an easier to read format. Updated Get-VCFvRLI cmdlet to display API output in an easier to read format. Additions Added Get-VCFvRLIConnection cmdlet to get the connection status of VI Workload Domains to vRealize Log Insight. Added Get-VCFvROPSConnection cmdlet to get the connection status of VI Workload Domains to vRealize Operations Manager. If you would like to learn more about VMware Cloud Foundation or PowerVCF, check out these links:\nVMware Cloud Foundation Documentation PowerVCF Documentation PowerVCF v2.1.7 PowerShell Library Download ","link":"http://jadenetworksolutions.co.uk/post/powervcf/powervcf-ga-217/","section":"post","tags":["API","PowerShell","VCF"],"title":"PowerVCF v2.1.7 - General Availability"},{"body":"Last Updated: 30-Nov-2021\nWelcome to Edition #3 of the What's New for VMware Validated Solutions, today we are announcing the following changes:\nGeneral Availability of PowerValidatedSolutions v1.2.0 Release of PowerValidatedSolutions v1.2.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed (this and previous updates can be tracked by reading the CHANGELOG.md file stored in the Git Hub repository here):\nFixed Add-GlobalPermission where an error is thrown when Internet Explorer has not been launched in the operating system. Fixed Set-DatastoreTag where it was failing to create a single tag and catagory when multiple vCenter Servers in the Single-Sign On domain. Fixed Add-StoragePolicy where is was failing to add the storage policy when multiple vCenter Servers in the Single-Sign On domain Enhanced Move-VMtoFolder cmdlet to check the name of VM provided and skip if it does not exist. Enhanced Add-WorkspaceOneDirectory cmdlet so that it can be used with Clustered Workspace ONE Access. Enhanced Set-WorkspaceOneSmtpConfig cmdlet to skip the configuration if the SMTP Server configuration is already performed. Added Export-vRLIJsonSpec cmdlet to generate the Json specification file needed to deploy vRealize Log Insight via vRealize Lifecycle Suite Manager. Added New-vRLIDeployment cmdlet to deploy vRealize Log Insight via vRealize Lifecycle Suite Manager in VMware Cloud Foundation aware mode. Added Add-vRLIAuthenticationWSA cmdlet to support configuring Workspace ONE Access integration with vRealize Log Insight. Added Add-WorkspaceOneDirectoryGroup cmdlet to Sync additional Active Directory groups with Workspace ONE Access. Added Export-vROPSJsonSpec cmdlet to generate the Json specification file needed to deploy vRealize Operations Manager via vRealize Lifecycle Suite Manager. Added New-vROPSDeployment cmdlet to deploy vRealize Operations Manager via vRealize Lifecycle Suite Manager in VMware Cloud Foundation aware mode. Added Export-vRASJsonSpec cmdlet to generate the Json specification file needed to deploy vRealize Automation via vRealize Lifecycle Suite Manager. Added New-vRADeployment cmdlet to deploy vRealize Automation via vRealize Lifecycle Suite Manager in VMware Cloud Foundation aware mode. Added Install-vRLIPhotonAgent cmdlet to download, install and configure the vRealize Log Insight Agent on Photon Operating System. Added Add-vRLIAgentGroup cmdlet to create an Agent Group in vRealize Log Insight Added Register-vRLIWorkloadDomain cmdlet to connect/disconnect a Workload Domain with vRealize Log Insight. Added Set-vRLISyslogEdgeCluster cmdlet to configure the Syslog settings for each NSX Edge node within a Workload Domains NSX Edge Cluster. Added Add-vRLISmtpConfiguation cmdlet to configure the SMTP Server settings for vRealize Log Insight Added Add-vRLILogArchive cmdlet to configure Email Notifications, Retention and Archive Location for vRealize Log Insight Added Register-vROPSWorkloadDomain cmdlet to connect/disconnect a Workload Domain with vRealize Operations Manager. Added Add-vROPSCurrency cmdlet to configure the currency for vRealize Opertations Manager Added Add-vROPSGroupRemoteCollectors cmdlet to create a Remote Collector Group and assign the remote collectors in vRealize Operations Manager Added Update-vROPSAdapterVcenter cmdlet to update the Remote Collector Group assignment for the vCenter Server Adapter in vRealize Operations Manager Added Add-vROPSCredentialNsxt cmdlet to create an NSX credential in vRealize Operations Manager Added Add-vROPSAdapterNsxt cmdlet to create an NSX Adapter and Start Collection in vRealize Operations Manager Added Undo-vRSLCMLockerPassword cmdlet to remove a password from the vRealize Suite Lifecycle Manager Locker. Added Undo-vRSLCMLockerCertificate cmdlet to remove a certificate from the vRealize Suite Lifecycle Manager Locker. Added Undo-vRSLCMLockerLicense cmdlet to remove a license from the vRealize Suite Lifecycle Manager Locker. Added Undo-VMFolder cmdlet to remove a folder from vCenter Server Added Add-vRLIAuthenticationGroup cmdlet to assign vRealize Log Insight roles to Workspace ONE Access Groups. Added Sample Scripts in the SampleScripts\\iam folder, each script uses the Planning and Preparation Workbook as the input source: iamConfigureVsphere.ps1 automates all the configuration of vSphere/SDDC Manager elements for Identity and Access Management for VMware Cloud Foundation. iamConfigureWorkspaceOne.ps1 automates all the configuration of Workspace ONE Access elements for Identity and Access Management for VMware Cloud Foundation. iamConfigureNsx.ps1 automates all the configuration of the NSX elements for Identity and Access Management for VMware Cloud Foundation. Added Sample Scripts in the SampleScripts\\ila folder, each script uses the Planning and Preparation Workbook as the input source: ilaDeployVrealizeLogInsight.ps1 automates the install and config of vRealize Log Insight for Intelligent Logging and Analytics for VMware Cloud Foundation. ilaConfigureVrealizeLogInsight.ps1 automates the integration config of vRealize Log Insight for Intelligent Logging and Analytics for VMware Cloud Foundation. Added New-SupervisorClusterCSR cmdlet to create a new certificate signing request for the defined Supervisor Cluster Added Add-SupervisorClusterCertificate cmdlet to add a signed TLS certificate for the defined Supervisor Cluster Added Add-NamespaceVmClass cmdlet to add an existing VM Class to a Supervisor Namespace Intelligent Logging and Analytics for VMware Cloud Foundation Updates Implementation Combined the following procedures:\nDownload and Install the vRealize Log Insight Agent on the Clustered Workspace ONE Access Nodes Configure the vRealize Log Insight Agent on the Clustered Workspace ONE Access Nodes Into a new single procedure:\nDownload, Install and Configure the vRealize Log Insight Agent on the Clustered Workspace ONE Access Nodes Added PowerValidatedSolutions automation to the following procedures:\nDeploy vRealize Log Insight by Using vRealize Suite Lifecycle Manager (New-vRLIDeployment) Configure SMTP for vRealize Log Insight (New-vRLIDeployment) Configure Log Retention and Archiving for vRealize Log Insight (Add-vRLILogArchive) Enable Authentication for vRealize Log Insight by Using Workspace ONE Access (Add-vRLIAuthenticationWSA) Sync Active Directory Groups to Workspace ONE Access (Add-WorkspaceOneDirectoryGroup) Assign vRealize Log Insight Roles to Active Directory Groups (Add-vRLIAuthenticationGroup) Connect a VI Workload Domain to vRealize Log Insight (Register-vRLIWorkloadDomain) Configure the NSX Edge Nodes to Forward Log Events to vRealize Log Insight (Set-vRLISyslogEdgeCluster) Download, Install and Configure the vRealize Log Insight Agent on the Clustered Workspace ONE Access Nodes (Install-vRLIPhotonAgent) Configure the vRealize Log Insight Agent Group for the Clustered Workspace ONE Access (Add-vRLIAgentGroup) Create a vRealize Log Insight Photon OS Agent Group for the Management Nodes (Add-vRLIAgentGroup) Intelligent Operations Management for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\nDeploy vRealize Operations Manager by Using vRealize Suite Lifecycle Manager (New-vROPSDeployment) Synchronize the Groups for vRealize Operations Manager from the Identity Provider into Workspace ONE Access (Add-WorkspaceOneDirectoryGroup) Group the vRealize Operations Manager Remote Collector Nodes (Add-vROPSGroupRemoteCollectorsy) Set the Currency for Cost Calculation in vRealize Operations Manager (Add-vROPSCurrency) Connect vRealize Operations Manager to the VI Workload Domains in the First VMware Cloud Foundation Instance (Register-vROPSWorkloadDomain) Modify the vCenter Server Adapters for the First VMware Cloud Foundation Instance in vRealize Operations Manager (Update-vROPSAdapterVcenter) Add NSX-T Data Center Adapters in vRealize Operations Manager (Add-vROPSAdapterNsxt) Private Cloud Automation for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\nDeploy vRealize Automation by Using vRealize Suite Lifecycle Manager (New-vRADeployment) Synchronize the Groups for vRealze Automation from the Identity Provider into Workspace ONE Access (Add-WorkspaceOneDirectoryGroup) Developer Ready Infrastructure for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\nReplace the Supervisor Cluster Kubernetes API Endpoint Certificate (New-SupervisorClusterCSR and Add-SupervisorClusterCertificate) Enable a Virtual Machine Class for the Tanzu Kubernetes Cluster (Add-NamespaceVmClass) Site Protection and Disaster Recovery for VMware Cloud Foundation Updates Operational Guidance Added Shutdown and Startup procedures Navigation Improvements on core.vmware.com And lastly based on feedback we are making a few adjustments to the navigation experience on core.vmware.com which is the marketplace for all VMware Validated Solutions, here’s a list of what’s new:\nRenamed Quick Links to Solution Quick Links - to remove confusion we have renamed the Quick Links menu bar to Solution Quick Links, so when your looking at a specific solution resource page there is a difference between this quick link label and the main VMware Validated Solutions landing page. Added Quick Link to Update History – each time the documentation for a VMware Validated Solution is updated, what’s changed is tracked in an Update History table within the solution documentation. This new Quick Link will take you directly to this section of the documentation. ","link":"http://jadenetworksolutions.co.uk/post/vvs-whats-new/edition-03/","section":"post","tags":["VVS"],"title":"What's New for VMware Validated Solutions - Edition #3 (Nov 2021)"},{"body":"Each VMware Validated Solution places certain configuration requirements on VMware Cloud Foundation, this detailed is documented within the Before You Apply This Guidance section of the Solution Guide.\nTo locate the Before You Apply This Guidance use the following process:\nConnect to the VMware Validated Solutions landing page on core.vmware.com.\nClick View Resource Page for the Validated Solution your interested in.\nClick Read More under the Design Objectives tile.\nClick on the top page of the docs.vmware.com page. Using the right-hand menu under In this article select Before You Apply This Guidance. ","link":"http://jadenetworksolutions.co.uk/post/vvs-tips/vvs-tip-05/","section":"post","tags":["VVS"],"title":"VVS-Tip - Identify What’s Required from a VMware Cloud Foundation Perspective"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/backup/","section":"tags","tags":null,"title":"Backup"},{"body":"By default when VMware Cloud Foundation is deployed, SDDC Manager and NSX-T Data Center are configured to use an SFTP service running locally on the SDDC Manager Appliance. For production environments its critical that this is changed before going live to ensure that you have the ability to recover in the event of a disaster.\nThe requirements of using an SFTP in my experience seem to fall through the gaps during most initial deployments and as a result it takes organizations some time to get all the requirements put in place. Such delays simply place a risk on the implementation until addressed.\nOne way to reduce this risk, and of course for use in a lab environment is to use VMware Cloud Builder as an alternative short term solution as it too has an SFTP service running, this can be acheived through a simple three step process:\nCreate a Backup Service Account on the VMware Cloud Builder Appliance Create a Backup Folder on the VMware Cloud Builder Appliance Re-Configure the Backup in SDDC Manager Create a Backup Service Account on the VMware Cloud Builder Appliance First step is to create a local account on the VMware Cloud Builder Appliance, this will be used as the service account and is supplied when re-configuring the backup configuation in SDDC Manager.\nConnect to the SDDC Manager Appliance using an SSH client such as Putty, and authenticate as admin.\nSwitch to root by entering the following command:\n1su Create the service account by entering the following command: 1useradd -m -p $(openssl passwd -1 VMw@re1!) svc-vcf-bck Create a Backup Folder on the VMware Cloud Builder Appliance The next step is to create a target backup folder on the VMware Cloud Builder Appliance and assign the appropriate access to allow the service account to store backup jobs.\nCreate a new folder by entering the following command: 1mkdir /tmp/vcf-backups Configure access to the folder for the service account by entering the following command: 1chown svc-vcf-bck:users /tmp/vcf-backups Re-Configure the Backup in SDDC Manager And finally you re-configure the backup configuration to use the new SFTP target for backups, performing this task will trigger SDDC Manager to automatically reconfigure SDDC Manager and NSX-T Data Center.\nLogin to the SDDC Manager UI with a user assigned with the ADMIN role.\nUsing the navigation paine, select Administration \u0026gt; Backup.\nOn the Backup paine, select Site Settings and click Register External.\nEnter the values, and click Save. Setting Value Host FQDN or IP sfo-cb01.sfo.rainpole.io Port 22 Transfer Protocol SFTP Username svc-vcf-bck Password VMw@re1! Backup Directory /tmp/vcf-backups Confirm Fingerprint Selected Encryption Passphares VMw@re1!VMw@re1! On the Confirm your changes to backup settings dialog, click Confirm. Your details will be saved and the Configure Backup of VCF Components (SDDC Manager and NSX Managers) task will start. NOTE: The SDDC Manager UI procedure is valid for VMware Cloud Foundation 4.3.0 and later.\n","link":"http://jadenetworksolutions.co.uk/post/vcf/vcf-post-01/","section":"post","tags":["API","VCF","PowerShell","Backup"],"title":"Configure VMware Cloud Builder as a Backup Target for SDDC Manager"},{"body":"Last Updated: 10-Nov-2021\nVMware Validated Solutions are byte sized solutions developed to extend the foundational capabilities of VMware Cloud Foundation, for background reading see my previous post here. To help customers get the most out of VMware Validated Solutions I've put together a number of short tips, bookmark this page for easy access.\nRemember to check back from time to time!\nQuickly Identify the Version of VMware Cloud Foundation Supported Quickly Identify the Last Time Content Was Updated Review Detailed Update History for a Validated Solution Quickly Identify the Architecture Supported Identify What’s Required from a VMware Cloud Foundation Perspective Unlocking Automation Capabilities with PowerValidatedSolutions Contributing to PowerValidatedSolutions Source Code ","link":"http://jadenetworksolutions.co.uk/post/vvs-tips/vvs-tip-index/","section":"post","tags":["VVS"],"title":"VMware Validated Solutions - Tips Index"},{"body":"Each VMware Validated Solution is validated against a specific architecture configuration of VMware Cloud Foundation, to confirm and identify if your configuration is supported you use the Design Objectives table.\nConnect to the VMware Validated Solutions landing page on core.vmware.com.\nClick View Resource Page for the Validated Solution your interested in.\nClick Read More under the Design Objectives tile.\nReview the VMware Cloud Foundation architecture support and Workload domain type support rows to confirm support. ","link":"http://jadenetworksolutions.co.uk/post/vvs-tips/vvs-tip-04/","section":"post","tags":["VVS"],"title":"VVS-Tip - Quickly Identify the Architecture Supported"},{"body":"When updates are made to VMware Validated Solutions the changes could affect a section of the guide or the whole guide, each page within the guide itself has an Updated on value at the top of the page.\nIn addition its possible to identify where content has changed from individual Validated Solution resource page on core.vmware.com, each tile which provides a link to a particular section of the content has a date too, this is updated each time changes are made within that section.\n","link":"http://jadenetworksolutions.co.uk/post/vvs-tips/vvs-tip-02/","section":"post","tags":["VVS"],"title":"VVS-Tip - Quickly Identify the Last Time Content Was Updated"},{"body":"As each VMware Validated Solution is updated its important that you as the customer are able to obtain a precise and accurate account of what has changed within the guide, Validated Solutions do this through the use of an Update History table that is published within the About section of the document.\nTo locate the Update History use the following process:\nConnect to the VMware Validated Solutions landing page on core.vmware.com.\nClick View Resource Page for the Validated Solution your interested in.\nClick Read More under the Design Objectives tile.\nClick on the top page of the docs.vmware.com page. Using the right-hand menu under In this article select Update History. ","link":"http://jadenetworksolutions.co.uk/post/vvs-tips/vvs-tip-03/","section":"post","tags":["VVS"],"title":"VVS-Tip - Review Detailed Update History for a Validated Solution"},{"body":"VMware Validated Solutions have been developed so that they can support multiple versions of VMware Cloud Foundation, this means they only need to be updated when absolutely necessary which is typically driven by significant architecture changes.\nThere are two methods that you can use to identify if a particular solution is supported for the VMware Cloud Foundation release you have deployed.\nMethod One - Viewing Tags on core.vmware.com VMware utilizes a single landing page within the Cloud Platform Tech Zone website known as core.vmware.com once you select VMware Validated Solutions, you are presented with tiles where each tile represents a single Validated Solution.\nInside each tile there is a Tags label, if you simply click Tags a dialog window will open and from here under Products you can quickly identify which releases of VMware Cloud Foundation are supported.\nMethod Two - View the Solution Guide Support Matrix Contained within each Validated Solution guide there is a Support Matrix table, this is contained within the About page. In the example below taken from the Identity and Access Management for VMware Cloud Foundation Validated Solution you can see the table contains a link to the VMware Cloud Foundation Release Notes and clearly calls out the version of the products added by the solution.\nTo locate this Support Matrix use the following process:\nConnect to the VMware Validated Solutions landing page on core.vmware.com.\nClick View Resource Page for the Validated Solution your interested in.\nClick Read More under the Design Objectives tile.\nClick on the top page of the docs.vmware.com page.\nUsing the right-hand menu under In this article select Support Matrix. Quick Links Below are quick links to each Validated Solutions Support Matrix:\nIdentity and Access Management for VMware Cloud Foundation - Support Matrix Developer Ready Infrastructure for VMware Cloud Foundation - Support Matrix Private Cloud Automation for VMware Cloud Foundation - Support Matrix Intelligent Logging and Analytics for VMware Cloud Foundation - Support Matrix Intelligent Operations Management for VMware Cloud Foundation - Support Matrix Site Protection and Disaster Recovery for VMware Cloud Foundation - Support Matrix Advanced Load Balancing for VMware Cloud Foundation - Support Matrix ","link":"http://jadenetworksolutions.co.uk/post/vvs-tips/vvs-tip-01/","section":"post","tags":["VVS"],"title":"VVS-Tip - Quickly Identify the Version of VMware Cloud Foundation Supported"},{"body":"Last Updated: 26-Oct-2021\nWelcome to Edition #2 of the What's New for VMware Validated Solutions, today we are announcing a number of incremental changes:\nAdditional support for Dell VxRail Additional automation across solutions based on the PowerValidatedSolutions v1.1.0 release Additional Operational Guidance Added Support for VMware Cloud Foundation 4.3.0 / 4.3.1 on VxRail Delighted to announce support of the following Validated Solutions running on Dell VxRail based systems in addition to vSAN Ready Nodes.\nIntelligent Logging and Analytics for VMware Cloud Foundation Intelligent Operations Management for VMware Cloud Foundation Private Cloud Automation for VMware Cloud Foundation Intelligent Logging and Analytics for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\nAdd vRealize Log Insight License to vRealize Suite Lifecycle Manager (New-vRSLCMLockerLicense) Add the vRealize Log Insight Admin Password to vRealize Suite Lifecycle Manager (New-vRSLCMLockerPassword) Add the vRealize Log Insight Virtual Machines to the First Availability Zone VM Group (Add-VmGroup) Operational Guidance Added Shutdown and Startup procedures Intelligent Operations Management for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\nAdd vRealize Operations Manager License to vRealize Suite Lifecycle Manager (New-vRSLCMLockerLicense) Add the vRealize Operations Manager Password to vRealize Suite Lifecycle Manager (New-vRSLCMLockerPassword) Add the vRealize Operations Manager Virtual Machines to the First Availability Zone VM Group (Add-VmGroup) Operational Guidance Added Shutdown and Startup procedures Private Cloud Automation for VMware Cloud Foundation Updates Implementation Added PowerValidatedSolutions automation to the following procedures:\nAdd vRealize Automation License to vRealize Suite Lifecycle Manager (New-vRSLCMLockerLicense) Add the vRealize Automation Password to vRealize Suite Lifecycle Manager (New-vRSLCMLockerPassword) Add the vRealize Automation Cluster Virtual Machines to the First Availability Zone VM Group (Add-VmGroup) Restrict the vRealize Automation and vRealize Orchestrator Service Accounts Access to the Management Domain (Set-vCenterPermission) Configure a Publishing Content Library on the First VI Workload Domain vCenter Server (Add-ContentLibrary) Configure Subscribed Content Libraries on an Additional VI Workload Domain vCenter Server (Add-ContentLibrary) Operational Guidance Added Shutdown and Startup procedures Identity and Access Management for VMware Cloud Foundation Updates Implementation Added a new procedure which is used when vRealize Log Insight is deployed under the Intelligent Logging and Analytics for VMware Cloud Foundation\nCreate a VM Group for the Standalone Workspace ONE Access Instance Operational Guidance Added Shutdown and Startup procedures Developer Ready Infrastructure for VMware Cloud Foundation Updates Operational Guidance Added Shutdown and Startup procedures ","link":"http://jadenetworksolutions.co.uk/post/vvs-whats-new/edition-02/","section":"post","tags":["VVS"],"title":"What's New for VMware Validated Solutions - Edition #2 (Oct 2021)"},{"body":"Last Updated: 05-Oct-2021\nLast month we released VMware Validated Solutions for background reading check out my original post here, this fundamental shift in developing VMware Validated Solutions now allows us to deliver incremental value over time, this is just the first of what I hope to be many updates but I'm really excited to share the following announcements with you all today:\nGeneral Availability of Site Protection and Disaster Recovery for VMware Cloud Foundation The Site Protection and Disaster Recovery for VMware Cloud Foundation Validated Solution, illustrates adapting a dual-instance software-defined data center (SDDC), deployed on top of VMware Cloud Foundation, to provide disaster recovery of the vRealize Automation and vRealize Operations Manager components within the Management Domain as well as lay the foundation to protected customer workloads within the VI Workload Domain.\nCheck out the following blog posts from my colleagues Brian O'Connell and Ken Gould who are the driving force behind the development and delivery of this Validated Solution:\nKen Gould Blog: Planning \u0026amp; Preparation for Site Protection and Disaster Recovery with VMware Cloud Foundation Brian O'Connell Blog: Site Protection \u0026amp; Disaster Recovery for VMware Cloud Foundation Validated Solution VMworld Sessions If you're registered for VMworld 2021, then check out the following sessions for more information on a few of our Validated Solutions, if your not registered for VMworld what are you doing get signed up now!\n[MCL2371] Enabling Security and Automation Services in VMware Cloud Foundation Fleets [MCL1544] Meet the Experts: Site Protection and Disaster Recovery for VMware Cloud Foundation [MCL1543] Meet the Experts: Intelligent Operations Management for VMware Cloud Foundation Added Support for VMware Cloud Foundation 4.3.1 Since the initial release of VMware Validated Solutions, VMware has shipped an updated version of VMware Cloud Foundation. The team has been validating each solution based on VMware Cloud Foundation 4.3.1 and has officially updated the support matrix accordingly for the following Validated Solutions:\nIdentity and Access Management for VMware Cloud Foundation Develop Ready Infrastructure for VMware Cloud Foundation Intelligent Logging and Analytics for VMware Cloud Foundation Intelligent Operations Management for VMware Cloud Foundation Private Cloud Automation for VMware Cloud Foundation Added Support for VMware Cloud Foundation 4.3.0 / 4.3.1 on VxRail In addition to updated support for VMware Cloud Foundation 4.3.1 we are also delighted to announce support of the following Validated Solutions running on Dell VxRail based systems in addition to vSAN Ready Nodes. We plan to validate the remaining Validated Solutions and update the support status in due course.\nIdentity and Access Management for VMware Cloud Foundation Develop Ready Infrastructure for VMware Cloud Foundation General Availability of PowerValidatedSolutions v1.1.0 And finally I'm excited to share the release of PowerValidatedSolutions v1.1.0, which is a PowerShell module that we have developed to not only accelerate the implementation of Validated Solutions, but ensure consistency and robustness. Here's a list of what's changed:\nA number of new functions have been added to support automation of the Site Protection and Disaster Recovery solution: Install-SiteRecoveryManager Install-vSphereReplicationManager Connect-DRSolutionTovCenter Install-VAMICertificate Backup-VMOvfProperties Restore-VMOvfProperties Copy-vRealizeLoadBalancer Added New-vRSLCMLockerPassword cmdlet to support adding passwords to the vRealize Lifecycle Suite Manager Locker Added New-vRSLCMLockerLicense cmdlet to support adding licenses to the vRealize Lifecycle Suite Manager Locker Enhanced Add-VmStartupRule to check both VM Groups exists before attempting to create the VM-to-VM Group Enhanced Add-ContentLibrary to support creation of both Published and Subscription Content Libraries Added Add-VmGroup cmdlet to support adding Virtual Machines to existing VM Groups (Availability Zones in particular) Fixed Set-vCenterPermission where a failure can occur if the workload domain does not follow the same naming as the vCenter Server ","link":"http://jadenetworksolutions.co.uk/post/vvs-whats-new/edition-01/","section":"post","tags":["VVS"],"title":"What's New for VMware Validated Solutions - Edition #1"},{"body":" I'm pleased to announce the general availability of PowerVCF v2.1.3 for download from the PowerShell Library. PowerVCF is a open source project and the team works on adding support when time permits.\nDownload It Here: PowerVCF PowerShell Library Download\nEnhancements Updated ResponseException cmdlet to improve the error handling message output. Additions Added Add-VCFApplicationVirtualNetwork cmdlet to create the Application Virtual Networks. If you would like to learn more about VMware Cloud Foundation or PowerVCF, check out these links:\nVMware Cloud Foundation Documentation PowerVCF Documentation PowerVCF v2.1.3 PowerShell Library Download ","link":"http://jadenetworksolutions.co.uk/post/powervcf/powervcf-ga-213/","section":"post","tags":["API","PowerShell","VCF"],"title":"PowerVCF v2.1.3 - General Availability"},{"body":" I'm pleased to announce the general availability of PowerVCF v2.1.2 for download from the PowerShell Library. PowerVCF is a open source project and the team works on adding support when time permits.\nDownload It Here: PowerVCF PowerShell Library Download\nThis latest release is a very minor update containing a few bug fixes as well as adding support for the new VIEWER Role added in VMware Cloud Foundation 4.2 within the New-VCFGroup cmdlet.\nIf you would like to learn more about VMware Cloud Foundation or PowerVCF, check out these links:\nVMware Cloud Foundation Documentation PowerVCF Documentation PowerVCF v2.1.2 PowerShell Library Download ","link":"http://jadenetworksolutions.co.uk/post/powervcf/powervcf-ga-212/","section":"post","tags":["API","PowerShell","VCF"],"title":"PowerVCF v2.1.2 - General Availability"},{"body":" I'm pleased to announce the general availability of PowerVCF v2.1.1 for download from the PowerShell Library. PowerVCF is a open source project and the team works on adding support when time permits.\nDownload It Here: PowerVCF PowerShell Library Download\nThe following table provides a detailed breakdown of all the cmdlet changes for this release.\nCategorycmdlet NameDescriptionCommentUsers and GroupsGet-VCFCredentialRetrieves a list of credentials.UPDATE: Added support for the vRealize credentialsBundlesStart-VCFBundleUploadStarts upload of bundle to SDDC ManagerUPDATE: Allows the import of a bundle based on offline download.FederationNew-VCFFederationInviteInvite new member to VCF FederationUPDATE: Added support to specify if the new system is a MEMBER or CONTROLLER. SDDCStart-CloudBuilderSDDCValidationStarts validation on VMware Cloud BuilderUPDATE: Added support for individual validation tasks.Workspace ONE AccessGet-VCFWSAGet details of the existing Workspace ONE AccessNEWvRealize AutomationGet-VCFvRAGet details of the the existing vRealize AutomationNEWvRealize OperationsGet-VCFvROPsGet details of the existing vRealize Operations ManagerNEWvRealize OperationsSet-VCFvROPsConnect or disconnect Workload Domains to vRealize Operations ManagerNEWvRealize Log InsightGet-VCFvRLIGet details of the existing vRealize Log InsightNEWvRealize Log InsightSet-VCFvRLIConnect or disconnect Workload Domains to vRealize Log InsightNEWvRealize Suite LifecycleGet-VCFvRSLCMGet details of the existing vRealize Suite Lifecycle ManagerUPDATE: Fixed an issue with the API URI and addressed response output If you would like to learn more about VMware Cloud Foundation or PowerVCF, check out these links:\nVMware Cloud Foundation Documentation VMware Cloud Foundation General FAQ PowerVCF Documentation PowerVCF v2.1.1 PowerShell Library Download ","link":"http://jadenetworksolutions.co.uk/post/powervcf/powervcf-ga-211/","section":"post","tags":["API","PowerShell","VCF"],"title":"PowerVCF v2.1.1 - General Availability"},{"body":" I'm pleased to announce the general availability of PowerVCF v2.1.0 for download from the PowerShell Library. PowerVCF is a open source project and the team works on adding support when time permits.\nDownload It Here: PowerVCF PowerShell Library Download\nWhat's New in PowerVCF v2.1.0 Here's a run down of what's new in this release:\nRename of a few existing cmdlets to align with approved verbsEnhancements to execution response messagesRemoval of the use of Write-Host The following table provides a detailed breakdown of all the cmdlet changes for this release.\nCategorycmdlet NameDescriptionCommentUsers and GroupsNew-VCFGroupCreate a GroupNEWUsers and GroupsGet-VCFUser\u0026nbsp;Users and GroupsGet-VCFUser\u0026nbsp;Get all Users in SDDC ManagerUPDATED - Support input value of -type (USER, GROUP, SERVICE)Users and GroupsGet-VCFUserGet all Users in SDDC ManagerUPDATED - Support input value of -domain to retrieve all accounts by domainUpgradablesGet-VCFUpgradableGet list of upgradablesUPDATED - Improved outputUpgradesGet-VCFUpgradeGets list of upgradable components in the SystemNEWUpgradesStart-VCFUpgradeStarts the upgradeNEWSDDCRestart-CloudBuilderSDDCRestarts deployment in Cl;oud GeneralRequest-VCFTokenRequests API access \u0026amp; refresh tokensUPDATED - Renamed from Connect-VCFManagerHostsNew-VCFCommissionedHostCommission a HostUPDATED - Renamed from Commission-VCFHostHostsRemove-VCFCommissionedHostDecommission a HostUPDATED - Renamed from Decommission-VCFHostDNS and NTP ConfigurationGet-VCFConfigurationDNSGets the current DNS ConfigurationNEWDNS and NTP ConfigurationGet-VCFConfigurationDNSValidationGet the status of the validation of the input for the DNS ConfigurationNEWDNS and NTP ConfigurationSet-VCFConfigurationDNSConfigures DNS for all systemsNEWDNS and NTP ConfigurationGet-VCFConfigurationNTP\u0026nbsp;Gets the current NTP ConfigurationNEWDNS and NTP ConfigurationGet-VCFConfigurationNTPValidationet the status of the validation of the input for the NTP ConfigurationNEWDNS and NTP ConfigurationSet-VCFConfigurationNTPConfigures NTP for all systemsNEWLicense KeysGet-VCFLicenseKeyGets all License Keys in SDDC ManagerUPDATED - Added -productType and -status as command line inputsLicense KeysNew-VCFLicenseKeyAdds a new License Key to SDDC ManagerUPDATED - No longer requires a JSON spec all command lineFederationSet-VCFFederationBootstrap a VMware Cloud Foundation to form a federationUPDATED - Now supports JSON file or a JSON variable as inputCEIPSet-VCFCeipSets the CEIP status (Enabled/Disabled)UPDATED - Code improvement and command line inputs for -ceipSettingBackup and RestoreSet-VCFBackupConfigurationConfigure backup settings for NSX and SDDC managerUPDATED - Now supports JSON file or a JSON variable as inputSystem PrechecksStart-VCFSystemPrecheckStarts system level health checksUPDATED - Now supports JSON file or a JSON variable as input If you would like to learn more about VMware Cloud Foundation or PowerVCF, check out these links:\nVMware Cloud Foundation DocumentationVMware Cloud Foundation General FAQVMware Cloud Foundation 4.0 Release NotesPowerVCF DocumentationPowerVCF v2.1.0 PowerShell Library Download ","link":"http://jadenetworksolutions.co.uk/post/powervcf/powervcf-ga-210./","section":"post","tags":["API","PowerShell","VCF"],"title":"PowerVCF v2.1.0 - General Availability"},{"body":" I'm pleased to announce the general availability of PowerVCF v2.0.0 for download from the PowerShell Library. PowerVCF is a open source project and the team works on adding support when time permits.\nDownload It Here: PowerVCF PowerShell Library Download\nWhat's New in PowerVCF v2.0 Along with a number of new or modified cmdlets the following enhancements have been made:\nGrouped cmdlets based on order of API documentationEnhancements to reuse duplicate codeUpdated for consistency in the use of codeSupport for the new token-based authentication model The following table provides a detailed breakdown of all the cmdlet changes for this release.\nCategorycmdlet NameDescriptionCommentBackup and RestoreStart-VCFRestoreStarts the restore process of SDDC ManagerNEWBackup and RestoreGet-VCFRestoreTasksGets the status of the restore processNEWConnectivityConnect-VCFManagerCreate authentication header for SDDC Manager applianceUPDATED - Support the new token / bearer authentication model and basicAuth switch for restore processConnectivityConnect-CloudBuilderCreate authentication header for Cloud Builder applianceNEWCertificatesGet-VCFCertificateAuthorityGet Certificate Authority informationUPDATED - Added support for getting the details by idCertificatesRemove-VCFCertificateAuthorityDeletes Certificate Authority configurationNEWCertificatesGet-VCFCertificateView certificate of all the resources in a domainUPDATED - Added support for get certificate details by resourceCredentialsGet-VCFCredentialGet the credentialsUPDATED- Added support for getting the details by idCredentialsStop-VCFCredentialTaskCancels a failed update or rotate passwords taskRENAMED - From Cancel-VCFCredentialTaskCredentialsRestart-VCFCredentialTaskRetry a failed rotate/update passwords taskRENAMED - From Retry-VCFCredentialTaskHostsCommission-VCFHostCommissions a list of hostsUPDATED - Added support for validating the input spec for host operations (-validate switch)NSX-T Edge ClustersGet-VCFEdgeClusterGet an Edge ClusterNEWNSX-T Edge ClustersNew-VCFEdgeCluster creates an NSX-T edge clusterNEWPersonalitiesGet-VCFPersonalityGet the vSphere Lifecycle Manager PersonalitiesNEWSDDC (Cloud Builder)Get-CloudBuilderSDDCRetrieve all SDDCsNEWSDDC (Cloud Builder)Start-CloudBuilderSDDCCreate SDDCNEWSDDC (Cloud Builder)Restart-CloudBuilderSDDCRetry failed SDDC creationNEWSDDC (Cloud Builder)Get-CloudBuilderSDDCValidationGet all SDDC specification validationsNEWSDDC (Cloud Builder)Start-CloudBuilderSDDCValidationValidate SDDC specification before creationNEWSDDC (Cloud Builder)Stop-CloudBuilderSDDCValidationCancel SDDC specification validationNEWSDDC (Cloud Builder)Restart-CloudBuilderSDDCValidationRetry SDDC validationNEWSystem PrechecksStart-VCFSystemPrecheckPerform System PrecheckRENAMED - From Start-PreCheckVCFSystemSystem PrechecksGet-VCFSystemPrecheckTaskGet System Precheck TaskRENAMED - From Get-PreCheckVCFSystemTaskTasksRestart-VCFTaskRetry a previously failed taskRENAMED - From Retry-VCFTaskUsersGet-VCFRoleGet all rolesNEWUsersGet-VCFUserGet all UsersNEWUsersNew-VCFUserAdds a new userNEWUsersNew-VCFServiceUserAdds a new service userNEWUsersDelete-VCFUserDeletes a userNEWvRealize Suite Lifecycle ManagerReset-VCFvRSLCMRedeploy vRealize Suite Lifecycle ManagerNEWvRealize Suite Lifecycle ManagerNew-VCFvRSLCMValidate the input specification for vRealize Suite Lifecycle Manager deploymentUPDATED - Added support for validating the json spec (-validate switch). If you would like to learn more about VMware Cloud Foundation or PowerVCF, check out these links:\nVMware Cloud Foundation DocumentationVMware Cloud Foundation General FAQVMware Cloud Foundation 4.0 Release NotesPowerVCF DocumentationPowerVCF v2.0 PowerShell Library Download ","link":"http://jadenetworksolutions.co.uk/post/powervcf/powervcf-ga-200./","section":"post","tags":["API","PowerShell","VCF"],"title":"PowerVCF v2.0.0 - General Availability"},{"body":" If you follow my posts you will know that in January I posted about the release of PowerVCF which is a PowerShell based CLI that exposes the public APIs of VMware Cloud Foundation to be easily consumed by VI Admins (see Introducing PowerVCF – Power to VI Admins).\nAs mentioned before PowerVCF is a open source project and the team has been working hard in their spare time to continue to evolve the cmdlets it offers. I'm pleased to announce that as a result of all this hard work we have made v1.2.0 available on the PowerShell Library for download.\nDownload It Here: PowerVCF PowerShell Library Download\nWhat's New in PowerVCF v1.2.0 The latest release introduces a number of new cmdlets:\nCategorycmdlet NameDescriptionBackup and RestoreSet-VCFBackupConfigurationConfigure backup settings for NSX and SDDC managerCredentialsRetry-VCFCredentialTaskConnects to the specified SDDC Manager and retry a failed rotate/update passwords taskCredentialsGet-VCFCredentialTaskConnects to the specified SDDC Manager and retrieves a list of credential tasks in reverse chronological orderFederationSet-VCFFederationBootstrap a VMware Cloud Foundation to form a federationSystem PrechecksStart-PreCheckVCFSystemPerforms system level health checksSystem PrechecksGet-PreCheckVCFSystemTaskPerforms retrieval of a system precheck task that can be polled and monitoredAVNGet-VCFApplicationVirtualNetworkRetrieves all Application Virtual NetworksvRSLCMNew-VCFvRSLCMDeploy vRealize Suite Lifecycle ManagervRSLCMRemove-VCFvRSLCMRemove a failed vRealize Suite Lifecycle Manager deployment VMware Cloud Foundation Documentation VMware Cloud Foundation General FAQ VMware Cloud Foundation 3.9 Release Notes VMware Cloud Foundation 3.9.1 Release Notes PowerVCF Documentation PowerVCF PowerShell Library Download ","link":"http://jadenetworksolutions.co.uk/post/powervcf/powervcf-ga-120/","section":"post","tags":["API","PowerShell","VCF"],"title":"PowerVCF v1.2.0 - General Availability"},{"body":" Back in December I was chatting with my good friend and colleague Brian O'Connell about automating a bunch of post configuration tasks within VMware Cloud Foundation using the new Public APIs, and it was during that conversation he shared a pet project he had been working on called PowerVCF, the idea behind PowerVCF being a way to allow VI Admin's to easily consume the new public APIs we began shipping with VMware Cloud Foundation much in the same way PowerNSX and PowerVRA come about.\nContributors working on PowerVCF are doing so during their spare time, and have day jobs. Brian started the project when v3.8.x was initially released but with v3.9 more Public APIs were added and he was struggling to find time to extend the capabilities of what he had started on his own. Based on my needs I agreed to roll up my sleeves and help out. Over the course of just over a month or so along with help from Giuliano Berteo we have added support for about 70% of the current Public APIs and to coincide with the release of VMware Cloud Foundation v3.9.1 have decided to release v1.0 of PowerVCF.\nTo make it easy to download and install, PowerVCF can be obtained from the PowerShell Gallery and documentation can be found on ReadTheDocs which is available at https://powervcf.readthedocs.io. Please note that PowerVCF is not officially supported by VMware. It is provided without warranty and should not be used in a production environment without thoroughly testing first\nOnce installed running the following command Get-Command -Module PowerVCF you will presented with this list of cmdlets, we plan to add more capabilities over the coming months, if your interested in contributing then please reach out!\nUseful Links\nVMware Cloud Foundation API DocumentationPowerVCF GitHub RepositoryPowerVCF PowerShell Gallery DownloadPowerVCF Documentation Other PowerVCF Blog Posts\nIntroducing PowerVCF – A PowerShell Module for the VMware Cloud Foundation API by Brian O'ConnellIntroducing PowerVCF by Giuliano BerteoAutomating VMware Cloud Foundation with PowerVCF by Brandon Willmott ","link":"http://jadenetworksolutions.co.uk/post/powervcf/powervcf-intro/","section":"post","tags":["API","PowerShell","VCF"],"title":"Introducing PowerVCF - Power to VI Admins"},{"body":"","link":"http://jadenetworksolutions.co.uk/archive/","section":"archive","tags":null,"title":"Archives"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/cloud-builder/","section":"tags","tags":null,"title":"Cloud Builder"},{"body":"","link":"http://jadenetworksolutions.co.uk/archive/2019/","section":"archive","tags":["index"],"title":"Posts"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/vmware-cloud-builder/","section":"categories","tags":null,"title":"VMware Cloud Builder"},{"body":"VMware Cloud Builder - Logging and Log Collection\nVMware Cloud Builder is used to automate the deployment of VMware Cloud Foundation and VMware Validated Designs, during the initial bringup phase both solutions use the same components of the VMware Cloud Builder appliance:\nJsonGenerator - used to take the Excel file and generate the JSON file used by the bringup service PlatformAudit - used to perform both validation on the JSON file and the physical environment Bringup - orchestration service that carries out the installation and configuration of the VMware components Each of these components generate log files, should you encounter issues then these log files can be used to perform your troubleshooting and can also be provided to VMware Global Support Services (GSS).\nThe following illustrates the key path locations:\nComponent Log Name Location JsonGenerator jsongenerator-[time-stamp] /var/log/vmware/vcf/sddc-support/ PlatformAudit platform-audit-[time-stamp] /var/log/vmware/vcf/sddc-support/ Bringup Service vcf-bringup.log /opt/vmware/bringup/logs/ vcf-bringup-debug.log /opt/vmware/bringup/logs/ rest-api-debug.log /opt/vmware/bringup/logs/ Web UI server.log /opt/vmware/vvd/vvd-ui/server/user_data/logs/ access.log /opt/vmware/vvd/vvd-ui/server/user_data/logs/\nIn addition to reviewing the log files locally you can also generate a log bundle that can be provided to GSS, this is done using the Supportability and Serviceability Utility (SoS) from the command line of the appliance as follows:\nConnect to the VMware Cloud Builder Appliance using an SSH utility such as Putty. Login using admin and enter your password. Switch to root using su and enter your password. Change into the SoS Utility folder: cd /opt/vmware/sddc-support\nExecute SoS to collect the logs ./sos --cloud-builder-logs ","link":"http://jadenetworksolutions.co.uk/archive/2019/cb-logs/","section":"archive","tags":["Cloud Builder"],"title":"VMware Cloud Builder - Logging and Log Collection"},{"body":"Back in January VMware released VMware Cloud Builder v1.0, today March 19th VMware Cloud Builder v2.0 went GA, this is just a quick write up on the main What's New items for this release. If you didn't see my initial blog article on VMware Cloud Builder v1.0 you can find it here.\nWhat's New Supports for VMware Cloud Foundation v3.7 and VMware Validated Design v5.0.1 using the same OVA. With the release of VMware Cloud Builder v2.0 the biggest change is that we now support the automated deployment of both VMware Cloud Foundation and VMware Validated Designs using the same base OVA. When you deploy the OVA you pass a SKU value of vcf for VMware Cloud Foundation, vcf-vxrail for VMware Cloud Foundation on VxRail and vvd for VMware Validated Designs, depending on the value chosen the appliance on first boot will install and configured the correct user interface.\nMultiple software bundles. In this release we have broken down iso bundle from a single 24GB file into multiple files. Contained within the VMware Cloud Builder OVA itself we have the sddc-foundation-bundle.x.x.x.x-xxxxxxxx.iso file which contains the binaries for the foundation layer including ESXi, vCenter, NSX and SDDC Manager. This is used by both VMware Cloud Foundation and VMware Validated Designs. The sddc-vrealize-bundle.x.x.x.x-xxxxxxxx.iso file is downloaded separately and contains the binaries for the vRealize Suite and is used by the VMware Validated Designs workflows. The sddc-dr-bundle.x.x.x.x-xxxxxxxx.iso file is also downloaded separately and contains the binaries for Site Recovery Manager and vSphere Replication. Useful Links VMware Cloud Foundation 3.7 Release Notes VMware Cloud Foundation 3.7.0 Downloads VMware Validated Design for Software-Defined Data Center 5.0.1 Release Notes VMware Validated Design 5.0.1 Downloads ","link":"http://jadenetworksolutions.co.uk/archive/2019/cb-whats-new-v2/","section":"archive","tags":["Cloud Builder","VVD","VCF"],"title":"VMware Cloud Builder 2.0 - What's New"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/vmware-validated-designs/","section":"categories","tags":null,"title":"VMware Validated Designs"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/vvd/","section":"tags","tags":null,"title":"VVD"},{"body":"On January 23rd 2019 I posted the below blog article on https://blogs.vmware.comm\nBlog Post from blogs.vmware.com On January 22nd the Integrated Systems Business Unit (ISBU) released version 1.0 of VMware Cloud Builder a free virtual appliance that allows our customers to automate the deployment of VMware Validated Designs. In this post I will provide some background history and provide a bit of detail as to exactly what VMware Cloud Builder is and how it can be used.\nHistory Nearly four years ago, the ISBU embarked on a journey to develop a blueprint architecture for implementing a Software-Defined Data Center (SDDC) and thus VMware Validated Designs were born. As you can imagine the work involved to validate the blueprint required the team to repeatedly tear down and build up environments to validate operationally and develop the documentation we have come to know and love, an idea of using automation was hatched and a small team of developers set about building a tool that became known internally as VVD Deployment Toolkit (DTK). A short time after its inception whilst working for another team outside of the ISBU I convinced my now manager to release the DTK to VMware Professional Services and for around two and half years they used the DTK to implement many VMware Validated Design deployments delivering faster time-to-value for our customers. About twelve months ago we took the decision to migrate all of the automation from DTK over into the same orchestration engine that is used by VMware Cloud Foundation and with the release of VMware Validated Design v4.3 we replaced DTK with VMware Cloud Builder however this continued to be only made available for internal ISBU use and VMware Professional Services only until now….\nWhat is VMware Cloud Builder? VMware Cloud Builder is an appliance distributed as an Open Virtualization Appliance (OVA) package that manages the orchestration of deployment and configuration of an SDDC platform that adheres to the blueprint set out by VMware Validated Designs. What this means is that it’s not a general-purpose automation tool for just laying down some VMware products but rather it configures them based on the VMware Validated Design chosen. Once the appliance has been deployed you upload the VMware Validated Design Software Bundle which is a single ISO file containing all the VMware product binaries defined for that release of the VMware Validated Design, upload signed-certificates generated using CertGen (see KB 2146215) run the reconfigure.sh script to mount the ISO and perform some configuration steps and your all set. Only requirement is that you own the licenses for each component that is deployed and that you need to gather the deployment configuration using the relevant Deployment Parameters XLS file for the architecture, these can be download from my.vmware.com or directly from the VMware Cloud Builder appliance once deployed.\nThe VMware Validated Design Software Bundle contains the following VMware software binaries:\nVMware ESXi VMware vCenter Server VMware NSX for vSphere VMware vRealize Suite Lifecycle Manager VMware vRealize Operations Manager Management Packs for vRealize Operations Manager VMware vRealize Log Insight Content Packs for vRealize Log Insight VMware vRealize Automation VMware vRealize Business for Cloud VMware Site Recovery Manager VMware vSphere Replication What architectures can I deploy with VMware Cloud Builder? The VMware Validated Designs support a number of different architectures that have been developed to support different customer profiles. VMware Cloud Builder has been developed to be flexible enough to handle these different architectures and today supports the following:\nVMware Validated Design for Software-Defined Data Center – Region A VMware Validated Design for Software-Defined Data Center – Region B VMware Validated Design for Management and Workload Consolidation Home Page - VMware Cloud Builder User Interface\nWhat is the Deployment Parameters XLS File? When deploying the VMware Validated Designs using VMware Cloud Builder we provide levels of flexibility in that we can configure using customer defined naming conventions for objects such as hostnames, datacenters, clusters, datastores as well as allocation of IP addresses and networks. This customer specific information is captured in the excel workbook known as the Deployment Parameters XLS file.\nThe process of gathering this custom configuration involves siting down and populating the relevant Deployment Parameters XLS file. The configuration gathering process has been developed using an excel workbook as it provides the most flexible method for data gathering due to its portability and ease of updates.\nThe Deployment Parameters XLS file consists of a number of worksheets or tabs, each defined to collect specific types of data typically aligned with the discussions you have during the data gathering process with the target audiences such as roles and responsibilities within the organization.\nThe Deployment Parameters XLS file contains the following worksheets:\nPrerequisites Checklist – contains details concerning the preparation phase of the deployment and used to track the status of the preparation work. Management Workloads – from a data gathering stand-point used to capture the license keys used by each VMware solution. Also contains a footprint breakdown of all the management component virtual machines deployed as part of the architecture for reference. Users and Groups – captures service accounts and groups in Active Directory that are required by the deployment as well as all the passwords that are used. Hosts and Networks – captures all VLAN configuration details pertaining to the environment and the configuration details for each ESXi host. Deployment Parameters – captures product specific configuration options exposed for customization including hostnames, IP address, Active Directory, DNS and NTP configuration, vCenter objects and more. vRA Configuration – captures configuration details that should be applied to a tenant that is created within vRealize Automation. Run Parameters – provides the ability to manipulate how VMware Cloud Builder implements the SDDC platform such as instructing it to not use VSAN or not deploying a specific product. CertConfig – auto populated worksheet that pulls the required details for using the CertConfig utility to automate the creation of the configuration files used by CertGen to generate the signed certificates across all VMware solutions. Microsoft Excel - Deployment Parameter Workbook How does this all come together? Now we have a better understanding of VMware Cloud Builder and the supporting files that are available for download from my.vmware.com let’s describe the end-to-end workflow. The general flow is as follows:\nPrepare the environment by performing all the prerequisites as documented in the Deployment Guides: Prepare ESXi hosts Prepare UMDS virtual machine Prepare vRealize Automation IaaS Master VM Prepare SQL Server for vRealize Automation Prepare Site Recovery Manager Generate signed certificates Populate the Deployment Parameters XLS file. Download and deploy the VMware Cloud Builder appliance Upload the software bundle Upload the signed certificates Deploy the Software-Defined Data Center Generate the JSON file Audit the deployment parameters and target environment Deploy the Software-Defined Data Center Perform manual post-deployment procedures As you can see VMware Cloud Builder drastically reduces the procedures for deploying an SDDC platform allowing you to focus more of your time on delivering business benefits.\nConclusion With the release of VMware Cloud Builder, customers have a new tool to automate the deployment of a VMware Validated Design. Using VMware Cloud Builder not only accelerates the time to value for our customers, but it also ensures consistency with the VMware Validated Design from a deployment, configuration and operational readiness perspective.\n","link":"http://jadenetworksolutions.co.uk/archive/2019/cb-vvd-automation/","section":"archive","tags":["Cloud Builder","VVD"],"title":"Introducing VMware Cloud Builder, Automated Deployment of VMware Validated Designs"},{"body":"I work at VMware in the UK as a Senior Staff Solution Architect within the Cloud Infrastructure Business Group (CIBG) which is a global team responsible for the solution design for VMware Cloud Foundation, VMware Validated Solutions. I have been working in the IT industry for over 20+ years spending a large amount of this time working for various consulting organizations. Since 2005 I have specialized in Virtualization technologies. My blog is used to simply share my experiences and knowledge with others.\n","link":"http://jadenetworksolutions.co.uk/about/","section":"","tags":null,"title":"About"},{"body":"I recently had a requirement to get VMware PowerCLI installed and configured in order to work on developing some scripts. VMware introduced a new way of performing the installation which is well documented on the VMware official blog post however its still took me a little bit of time to work out the actual procedure. After a bit of googling and experimenting I decided to document the steps for future reference.\nPlatform: Windows Server 2012 R2 \u0026amp; Windows Server 2016\nDetermine the version of PowerShell currently installed, if your not running PoweShell 5.1 then perform step 2. 1$PSVersionTable.PSVersion Update PowerShell, in order to install modules using the new PowerShell Library I needed to update the version of PowerShell, this is done by installing a newer WMF. Download and install the WMF 5.1 package.\nSet the PowerShell execution policy to 'RemoteSigned'\n1Set-ExecutionPolicy RemoteSigned -Confirm:$false -Force To install the new PowerCLI for all users, open an administrative PowerShell session and use the -Scope command for AllUsers. 1Install-Module -Name VMware.PowerCLI -Scope AllUsers To import the modules and start using them run the following command: 1Get-Module -Name VMware* -ListAvailable | Import-Module To remove the 'Customer Experience Improvement Program (CEIP)' message run the following command: 1Set-PowerCLIConfiguration -Scope AllUsers -ParticipateInCEIP $true -Confirm:$false ","link":"http://jadenetworksolutions.co.uk/archive/2017/powercli-01/","section":"archive","tags":["PowerShell"],"title":"Installing PowerCLI 6.5.1"},{"body":"","link":"http://jadenetworksolutions.co.uk/archive/2017/","section":"archive","tags":["index"],"title":"Posts"},{"body":"","link":"http://jadenetworksolutions.co.uk/archive/2016/","section":"archive","tags":["index"],"title":"Posts"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/vra/","section":"tags","tags":null,"title":"vRA"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/vrealize-automation/","section":"categories","tags":null,"title":"vRealize Automation"},{"body":"Its been some months since I've had the opportunity to spend much time with vRealize Automation and so I was not aware of this apparent known issue but I thought I would post this blog anyway because I've seen some small differences with some of the blogs out there.\nFollowing the successful installation of vRealize Automation in a distributed configuration, when logging into the portal the Infrastructure tab displays the incorrect name as follows: The workaround is to reboot the vRealize Automation Appliances. In some cases this may require a couple of reboots. My recommendation is to reboot one at a time waiting for the first appliance to come back up before rebooting the second appliance.\n","link":"http://jadenetworksolutions.co.uk/archive/2016/vra-01/","section":"archive","tags":["vRA"],"title":"vRealize Automation Infrastructure Tab Appears with Incorrect Name"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/plugin/","section":"tags","tags":null,"title":"Plugin"},{"body":"","link":"http://jadenetworksolutions.co.uk/archive/2015/","section":"archive","tags":["index"],"title":"Posts"},{"body":"I recently had some issues trying to install the vCenter Server Appliance (VCSA) using the latest Update 1 release of vSphere.\nThe first problem I had was that even though I had the VMware Client Integration Plugin installed, on launching the install wizard it would not get detected. I had seen this issue in the past and started to do some research but was not able to find anything at the time to help fix it, but was able to overcome it by switching from Firefox to IE on that occasion, but this time I decided to have a dig around again and was pleasantly surprised to find a new KB2125623 article released on the 10-Sep-2015 with the fix.\nWith my second problem the issue itself did not appear when first launching the install wizard but rather after supplying the details for the target ESXi host in the Connect to target server dialog I got a yellow error banner across the top with no message. On this occasion I reached out to William Lam as I knew he had been doing some testing himself and he made me aware of an issue he had found where VMware Client Integration Plugin stopped functioning after update 45 of Chrome see his post http://www.virtuallyghetto.com/2015/09/quick-tip-fix-for-cip-no-longer-functioning-in-vsphere-web-client-after-chrome-45-update.htm. It turned out that the issue had been already identified and an updated version of the VMware Client Integration Plugin was needed to address it, whilst his post includes the links I thought I would add here also.\nClient Integration Plugin for Windows Client Integration Plugin for Mac OS X ","link":"http://jadenetworksolutions.co.uk/archive/2015/vcenter-01/","section":"archive","tags":["Plugin"],"title":"Quick Fix - VMware Client Integration Plugin Stops Working (vSphere 6 U1)"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/vcenter-server/","section":"categories","tags":null,"title":"vCenter Server"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/cloudclient/","section":"tags","tags":null,"title":"CloudClient"},{"body":"Now we have our tenant created, identity source added and roles assigned we can create a fabric group to assign access to the underlying computer resources.\nThe first step is to change the context of which we are connecting to the vRealize Automation system, this involves connecting to our newly created tenant instead of the system. Enter the following command-line syntax to authenticate to the tenant and the IaaS system. In this example we used the 'vra login userpass' command. For easy reference here are the parameters explained. Notice in the example above we are specifying the same credentials for both the tenant and the IaaS Service, this is because we assigned both the 'Tenant Admin' and Infrastructure Admin' roles to the account in my previous post. Now we are authenticated we can create the fabric group, enter the following command-line syntax: In this example we used the 'vra fabricgroup add' command. For easy reference here are the parameters explained. Notice when you issue the command a hexadecimal value is returned, make a note of this value as we will need it later. The previous step created the fabric group, but in order to allocate compute resources we need to perform a second step to tie the fabric group and compute resource together. For this we need to establish the unique identifier or Id for the compute resource. Enter the following command-line syntax to list all compute resources and make a note of the Id associated with the compute resource you want to assign. Finally we need to issue an update command to the fabric group to link the compute resource, for this process we need to supply the Id of the fabric group (the hexadecimal value displayed on completion of step 2) and the Id of the compute resource from the table in step 3. For the purpose of this we are going to assign the compute resource Id associated with the Payload-01 friendly name which relates to my vSphere Cluster. Enter the following command-line syntax: In this example we used the 'vra fabricgroup update' command. For easy reference here are the parameters explained. Once complete this is what it look likes inside the vRealize Automation UI. ","link":"http://jadenetworksolutions.co.uk/archive/2015/vcac-cloudclient-04/","section":"archive","tags":["vCAC","CloudClient"],"title":"Creating a Fabric Group and Assigning a Compute Resource - Part 4"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/vcac/","section":"tags","tags":null,"title":"vCAC"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/vcloud-automation-center/","section":"categories","tags":null,"title":"vCloud Automation Center"},{"body":"In my previous post, I covered the creation of a tenant using the CloudClient but before you can authenticate to the tenant you need to first assign the Identity Store that you want to use for assigning access rights, then you need to assign access for the two tenant roles 'Tenant Admin' and 'Infrastructure Admin'.\nAdding an Identity Store Launch the CloudClient and authenticate to the vRealize Automation system. (Refer to my previous article here). Enter the following command-line syntax to add an Identity Store to a tenant. In this example we used the 'vra tenant identitystore add' command. For easy reference here are the parameters explained. Assigning access to a Tenant Enter the following command-line syntax to assign access to the 'Tenant Admin' role of a tenant. Enter the following command-line syntax to assign access to the 'Infrastructure Admin' role of a tenant. In this example we used the 'vra tenant admin update' command. For easy reference here are the parameters explained. NOTE\nWith the release of v3.x of CloudClient some of the old command-line syntax associated with the 'vra tenant admin update' command have been deprecated. See the official documentation for further details.\n","link":"http://jadenetworksolutions.co.uk/archive/2015/vcac-cloudclient-03/","section":"archive","tags":["vCAC","CloudClient"],"title":"Adding an Identity Store and Assigning Access to a Tenant - Part 3"},{"body":"In this article I'm going to walk through the process of using CloudClient to create and delete tenants from vRealize Automation. I personally use this procedure to setup a consistent and repeatable environment when doing internal testing or building demo environments for developing our professional services offerings.\nCreating a Tenant Launch the CloudClient and authenticate to the vRealize Automation system. (Refer to my previous article here). Enter the following command-line syntax to create a new tenant. In this example we used the 'vra tenant add' command. For easy reference here are the parameters explained. Deleting a Tenant To delete the tenant we just created, enter the following command-line syntax. In this example we used the 'vra tenant remove' command. We only need to use one parameter as defined below. ","link":"http://jadenetworksolutions.co.uk/archive/2015/vcac-cloudclient-02/","section":"archive","tags":["vCAC","CloudClient"],"title":"Creating and Deleting a Tenant with CloudClient - Part 2"},{"body":"Before you can start using the CloudClient to perform command-line actions against your vRealize Automation (vRA) platform you have to authenticate to it. Whilst complete documentation is provided with the CloudClient download it does lack some examples of how to use the syntax, this post and others I'm yet to write will look to provide some of these examples based on my specific use cases.\nThe first step is to launch CloudClient, there are a couple of things to note here:\na) you will need a Java Runtime Environment installed on the system where you re running the command-line too from. b) the tool has two start-up scripts provide, one for Windows and one for Linux and these are now located in the /bin folder\nExecute the correct start-up script, for my scenario I'm using a Windows server so we need to run C:\\CloudClient\\bin\\cloudclient.bat. Assuming you have JVM installed correctly the CloudClient command-line tool will load and you will be presented with the following screen. 2a. Next we need to run the following command-line syntax to authenticate to the default tenant of the vRealize Automation system, from there we can run many commands against the platform.\n2b. If you wanted to connect to a specific tenant and not the default tenant, then you can use the '--tenant' parameter as follows.\nIn the examples above we used the 'vra login userpass' command, but the tool also provides the ability to use a keyfile with the 'vra login keyfile' command. Now lets look at each of the parameters used in this example.\n","link":"http://jadenetworksolutions.co.uk/archive/2015/vcac-cloudclient-01/","section":"archive","tags":["vCAC","CloudClient"],"title":"Launching CloudClient and Authenticating to vRealize Automation - Part 1"},{"body":"Do you have the need for performing multiple tasks in an efficient manner, tired of using the web-based GUI interface to perform common tasks in vRealize Automation? Help is at hand in the shape of the vRealize CloudClient.\nvRealize CloudClient is a command–line utility that provides simplified command line access to vRealize Automation, vRealize Orchestrator and vCenter Site Recovery Manager functions. Essentially its an easy to use command-line wrapper for performing API functions across VMware's products and can easily be expanded to extend to further products in the future. It can be downloaded from here and is shipped independently from the vRealize Automation Release.\nA number of my colleagues have written some great blog posts over the last few months (see below) and I plan to add some very specific use cases of my own on this site in the coming months based on my day-to-day job.\nLaunching CloudClient and Authenticating to vRealize Automation - Part 1 Creating and Deleting a Tenant with CloudClient - Part 2 Adding an Identity Store and Assigning Access to a Tenant - Part 3 Creating a Fabric Group and Assigning a Compute Resource - Part 4 Andrea Sivero, a Senior Solutions Architect from VMware’s Professional Service Organization put together a great blog post that will jump start your CloudClient use.\nHave a Chat with Your SDDC (Automating the Management of the Management Portal-Part 2) Omer Kushmaro an Integration Engineering Architect at VMware discusses common use cases and provides examples on how to get started.\nvCAC (vRA) Cloud Client is GA! Looking for additional use case examples? Tom O’Rourke’s one of the founders of vRealize Automation (formally Dynamic Ops) has some sample scripts on his Clear as a Cloud Blogs.\nCloudClient is GA ","link":"http://jadenetworksolutions.co.uk/archive/2015/vcac-cloudclient/","section":"archive","tags":["vCAC","CloudClient"],"title":"What is the vRealize CloudClient"},{"body":"Prior to the release of vCloud Automation Center (vCAC) v5.2 there was no awareness or understanding of virtual machines protected through vCenter Site Recovery Manager. With the introduction of v5.2, VMware provided enhanced integration so that vCAC would correctly discover the relationship between the primary and recovery virtual machines.\nThese enhancements consisted of what could be considered minor modifications, albeit minor they were fundamental to ensuring that vCenter Site Recovery Manager (SRM) could successfully be implemented to the deliver disaster recovery of virtual machines managed by vCAC. So What’s Changed? When a virtual machine is protected by SRM a ‘Managed Object Reference ID’ or ‘MoRefID’ is created against the virtual machine record in the vCenter Server database.\nPrior to SRM v5.5 a single virtual machine property was created on the placeholder virtual machine object in the recovery site vCenter Server database called ‘ManagedBy:SRM,placeholderVM’, but vCAC did not inspect this value and so would attempt to add a second duplicate entry into its database, with the introduction of vCAC 5.2 when a data collection is run vCAC now ignores virtual machines with this value set to avoid this.\nIn addition to this SRM v5.5 introduced a second managed by property value which is placed on the virtual machine vCenter Server database record called ‘ManagedBy:SRM,testVM’ when a test recovery process is performed and data collection is run at the recovery site vCAC inspects this value and also ignores the virtual machines with this set to avoid creating a duplicate entry in the vCAC database.\nWith the changes highlighted above, SRM v5.5 and later and vCAC 5.2 and later can now be implemented in tandem with full awareness of the other. However one limitation still remains when moving a virtual machine into recovery or reprotect mode, vCAC does not properly recognize the move. To successfully perform these machine operations and continue being able to manage the machine life cycle, you must use the ‘Change Reservation’ operation, however this is still a manual task.\nIntroducing the CloudClient In performing the investigation around the enhancements between SRM and vCAC above, and on uncovering the need for the manual change of reservation I spent some time with our Cloud Solution Engineering team discussing the need for finding a way to automate this step. They were already developing a tool called CloudClient, which is essentially a wrapper for our API’s allowing simple command line driven steps to be performed and suggested that this could be developed to support this use case.\nConclusion In order to achieve a fully functional integration between vCloud Automation Center (5.2 or later) and vCenter Site Recovery Manager adhere to the following design decisions:\nConfigure vCloud Automation Center with endpoints for both the protected and recovery sites. Perform a manual / automatic change reservation following a vCenter Site Recovery Manager planned or disaster migration. Frequently Asked Questions Q: When I fail over my VMs from the protected site to the recovery site what happens when I request the built in vCAC machine operations?\nA: Once you have performed a ‘Planned Migration’ or a ‘Disaster Recovery’ process, as long as you have changed the reservation within the vCAC Admin UI for the VM, machine operations will be performed in the normal way on the recovered VM.\nQ: What happens if I do not perform the Change Reservation step to a VM once I’ve completed a ‘Planned Migration’ or ‘Disaster Recovery’ process and I then attempt to perform the built in vCAC machine operations on the VM?\nA: Depending on which tasks you perform, some things are blocked by vCAC and you see an error message in the log “The method is disabled by ‘com.vmware.vcDR’” and some actions look like they are being processed but nothing happens. There are also a few actions, which are processed regardless of the VM failure scenario; these are Change Lease and Expiration Reminder.\nQ: What happens if I perform a reprovision action on a VM that is currently in a ‘Planned Migration’ or ‘Disaster Recovery’ state?\nA: VCAC will reprovision the VM in the normal manner, which is that the hostname and IP Address (if assigned through vCAC) will be maintained. However the SRM recovery plan will now fail if you attempt to reprotect the VM back to the protected site as the original object being managed is replaced. It’s recommended that for blueprints where SRM protection is a requirement that you disable the ‘Reprovision’ machine operation.\n","link":"http://jadenetworksolutions.co.uk/archive/2015/vcac-dr/","section":"archive","tags":["vCAC"],"title":"vCloud Automation Center Disaster Recovery"},{"body":"","link":"http://jadenetworksolutions.co.uk/archive/2014/","section":"archive","tags":["index"],"title":"Posts"},{"body":"Replacing the self-signed certificate of any product with a CA Signed alterative is common place and in most security conscious organizations mandatory, whilst working on an internal project recently I attempted to achieve just that for my vCenter Log Insight Virtual Appliance.\nThe official VMware documentation posted here, in my opinion is very light in content on this subject in fact it only really describes how to replace the certificate by browsing for the .pem file and restarting the appliance. I’m no expert when it comes to SSL Certificates and so the whole process was a little bit of trial an error but thought I would share the process with the community in an effort to save others some time.\nFirstly, there are some specific requirements which are well documented these are:\nThe certificate file must contain both a valid private key and a valid certificate chain. The private key is generated by the RSA or the DSA algorithm. The private key is not encrypted by a pass phrase. If the certificate is signed by a chain of other certificates, all other certificates are included in the certificate file that you plan to import. The private key and all the certificates that are included in the certificate file are PEM-encoded. Log Insight does not support DER-encoded certificates and private keys. The private key and all the certificates that are included in the certificate file are in the PEM format. Log Insight does not support certificates in the PFX, PKCS12, PKCS7, or other formats. For the whole process I will be using OpenSSL tool for Windows, which I have installed to the C:\\OpenSSL folder. I also use the C:\\Certs folder to store the files being generated throughout the process, if you have ever read one of the VMware KB articles this will look familiar. The end to end process can be split into following three stages, which is pretty standard of all VMware products where you want to replace the self-signed certificate: Stage 1 – Generating the .csr file\nLaunch a command prompt and navigate into the OpenSSL directory.\nIn the C:\\Certs folder, create a folder for your Log Insight certificate files (C:\\Certs\\Log-Insight)\nOpen a text editor on the system where OpenSSL is installed. Create a configuration file vCenter Log Insight containing the following values (items in red must be altered to match your environment), save the file. [ req ] default_md = sha512 default_bits = 2048 default_keyfile = rui.key distinguished_name = req_distinguished_name encrypt_key = no prompt = no string_mask = nombstr req_extensions = v3_req [ v3_req ] basicConstraints = CA:false keyUsage = digitalSignature, keyEncipherment, dataEncipherment extendedKeyUsage = serverAuth, clientAuth subjectAltName = DNS:hostname, IP: xx.xx.xx.xx, DNS: hostname.domain.com [ req_distinguished_name ] countryName = UK stateOrProvinceName = London localityName = London 0.organizationName = VMware organizationalUnitName = vCenter Log Insight commonName = hostname.domain.com\nGenerate the .csr file by running the following command: openssl req -new -nodes -out C:\\Certs\\Log-Insight\\rui.csr -keyout C:\\Certs\\Log-Insight\\rui-orig.key -config C:\\Certs\\Log-Insight\\openssl-loginsight.cfg\nConvert the orig_rui.key into RSA format by running the following command:\nopenssl rsa -in C:\\Certs\\Log-Insight\\rui-orig.key -out C:\\Certs\\Log-Insight\\rui.key Stage 2 – Obtaining the Certificate Now you have your .csr file, using the Microsoft Certificate Authority generate your certificate file. I've not documented the process as this is document in many other blog posts, for reference take a look at Derek Seaman's blog here.\nStage 3 – Installing the Certificate\nLaunch a command prompt and navigate into the OpenSSL directory.\nNext we need to merge the certificate, private key and CA Chain by generating a .pfx file by issuing the following command: openssl pkcs12 -export -in C:\\Certs\\Log-Insight\\rui.crt -inkey C:\\Certs\\Log-Insight\\rui.key -certfile C:\\Certs\\Root64.cer -name rui -passout pass:testpassword -out C:\\Certs\\Log-Insight\\rui.pfx\nNow we need to convert the .pfx file into the format that the vCenter Log Insight Appliance accepts which is a .pem file by issuing the following command:\nopenssl pkcs12 -nodes -in C:\\Certs\\Log-Insight\\rui.pfx -out C:\\Certs\\Log-Insight\\rui.pem\nFinally, you need to upload the rui.pem file into the appliance as per the VMware documentation. ","link":"http://jadenetworksolutions.co.uk/archive/2014/vrli-ssl-certs/","section":"archive","tags":["SSL Certificates"],"title":"Replacing the SSL Certificate for Microsoft CA Signed on vCenter Log Insight 1.5 Virtual Appliance"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/ssl-certificates/","section":"tags","tags":null,"title":"SSL Certificates"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/vmware-log-insight/","section":"categories","tags":null,"title":"VMware Log Insight"},{"body":"Ever wanted to limit the number of VMs being requested via the Self Service portal per request. I had a customer who wanted to do this recently, their use case was to prevent user input mistakes when requesting services. The default value in vCloud Automation Center (vCAC) 5.x is 999.\nJust to be clear this is not limiting the number of VMs a user can request based on a blueprint as a total or setting the number of VMs on a reservation.\nNOTE\nThis procedure needs to be performed on all Web Servers if you have multiple deployed.\nBrowse to the folder D:\\Program Files (x86)\\VMware\\vCAC\\Self-Service Portal\\Views\\Shared Make a copy of the ‘SpinEditRow.cshtml’ file and call it ‘SpinEditRow - vCAC 5.2 Original’ Edit the ‘SpinEditRow.cshtml’ file and amend the following line located on line 7: From: var spinnerMaxValue = this.Model.MaxValue.HasValue ? this.Model.MaxValue.Value : 999; To: var spinnerMaxValue = this.Model.MaxValue.HasValue ? this.Model.MaxValue.Value : 5;\nThen test the process of making a new request from the Self-Service portal, the ‘# of machines:’should now be restricted to a maximum of 5\nNOTE\nThis is not officially support by VMware and careful consideration should be given before making this alteration. An upgrade of vCAC 5.2 would alter this change back to its default value.\n","link":"http://jadenetworksolutions.co.uk/archive/2013/vcac-vm-requests/","section":"archive","tags":["vCAC"],"title":"Limiting VMs per request within the vCAC 5.2 Self-Service Portal"},{"body":"","link":"http://jadenetworksolutions.co.uk/archive/2013/","section":"archive","tags":["index"],"title":"Posts"},{"body":"Recently I had some fun and games with what should have been a pretty routine process of upgrading a customer’s vCenter 4.1 Server to vCenter 5.0 Update 1, as it turned out it was far from straightforward. The main background to my issue was that when performing the upgrade of the database, the progress bar did not move after twenty minutes, which indicated that there was an issue somewhere. There are various VMware KB available in relation to the symptoms I observed but none that actually provided the solution. As a general rule before proceeding with an upgrade I would recommend the following:\nCheck the Database Size and reduce where you can (The customer in question had a DB of 74GB and Transaction Log of 236GB) Run the upgrade logged in as the Service Account used to start the vCenter Services Elevate the Database account to ‘sysadmin’ for the purposes of the upgrade only Some suggested VMware KB Articles include: Database Size 1007453, Upgrade Issues 2011533, 1003960, 1025139 ","link":"http://jadenetworksolutions.co.uk/archive/2013/vcenter-upgrade/","section":"archive","tags":["vCAC"],"title":"vCloud Automation Center 5.x – Resource Intensive Limits"},{"body":"To help manage your vCAC implementation and the resources on which it depends, vCAC by default places limits on the number of concurrent instances of two particularly resource-intensive operations, machine provisioning and data collection. During a recent vCloud Suite implementation this particular default behavior caught my colleagues and I out as throughput when testing was very slow. On further investigation we established that the default value was two (2). For our implementation, we were looking to ensure the largest amount of throughput we could possible achieve without unnecessary impact to the platform. We have successfully tested setting this limit to eight (8) which allows eight machines to be provisioned at once. In order to amend this value here’s what you need to do:\nLog into your vCAC Server where the vCAC Manager Service (vCloud Automation Center) is running Locate the file ‘MachineService.exe.config’ file which can be located in the following directory ‘%SystemDrive%\\Program Files x86\\DynamicOps\\DCAC Server’ Locate the following value ‘MaxOutstandingResourceIntensiveWorkItems’ and amend the value to the desired requirement Save the file Restart the ‘vCloud Automation Center’ service Remember if you’re running a High Availability implementation to amend the setting on the ‘Stand-by’ system.\n","link":"http://jadenetworksolutions.co.uk/archive/2013/vcac-respources/","section":"archive","tags":["vCAC"],"title":"vCloud Automation Center 5.x – Resource Intensive Limits"},{"body":"Enabling PowerShell Functions with SRM - DR of the Cloud When calling PowerShell functions as part of an SRM (5.1) recovery plan, you need to perform some additional configurations within PowerShell. This can be achieved using the following procedures. Step 1 - Set the execution level\nLaunch the 32-bit version of PowerShell Run the command 'Set-ExecutionPolicy RemoteSigned'. Step 2 - Create and configure a PowerShell profile Run the command 'Test-Path $profile', this will verify if a profile already exists for the user. (assuming that one does not exist go to step 2) Run the command 'New-Item $profile -type file -force', this will force the creation of a new profile file. Run the command 'Notepad $profile', this will open the new file in a Notepad session. Enter the following syntax into the file, then save and close: Import-Module vCloudDR Add-PSSnapin -name VMware.VimAutomation.Core Next time you start a new PowerShell session, it will load in our custom functions from the vCloudDR module and add in the VMware core cmdlets. Step 3 - Install the custom modules for PowerShell to call Locate the folder path 'C:\\Windows\\SysWOW64\\WindowsPowerShell\\v1.0\\Modules' Create a new folder called 'vCloudDR'. NOTE: This folder name must match the name used for the Import-Module command used in the profile in Step 2. Copy your custom module file into the newly created folder To test that the module has been loaded correctly, restart PowerShell and run the command 'Get-Module -ListAvailable' and verify your custom module is listed. ","link":"http://jadenetworksolutions.co.uk/archive/2013/srm-powershell/","section":"archive","tags":["SRM","PowerShell"],"title":" Enabling PowerShell Functions with SRM - DR of the Cloud"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/site-recovery-manager/","section":"categories","tags":null,"title":"Site Recovery Manager"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/srm/","section":"tags","tags":null,"title":"SRM"},{"body":"","link":"http://jadenetworksolutions.co.uk/archive/2012/","section":"archive","tags":["index"],"title":"Posts"},{"body":"Over the last few months I’ve had the opportunity to develop various commands to be run within Site Recovery Manager (SRM) recovery plans, during this time I’ve uncovered some interesting results and gotcha’s.\nCommand generated Errors If you look around there at various blog posts and community pages which provide an insight to running commands on the SRM Server, most of these suggest using a batch (.bat) or command (.cmd) file to call the script or run the command that you desire.\nThe problem with this approach is that the error state reported within the SRM recovery plan relates only to the success of failure of calling the batch or command file provided within the recovery plan.\nFor example, the following command, will call a file called callout.cmd located in the c:\\srm-scripts folder, if this file exists and can be called a 0 is returned to SRM and the step gets a Success status, if SRM is not able to call the file a 1 is returned and the SRM step gets a Warning status.\n1c:\\windows\\system32\\cmd.exe /c c:\\srm-scripts\\callout.cmd Calling PowerShell If you have ever used SRM you will know that currently (5.0 or earlier) SRM is still a 32-bit application even though it can run within a 64-bit operating system.\nMost of you will realize this when you setup the environment as it requires a 32-bit ODBC system DSN to connect to database. Well this run’s true when calling PowerShell, in order to call PowerShell you must use the following syntax otherwise nothing will happen.\n1C:\\Windows\\SysWOW64\\WindowsPowerShell\\v1.0\\Powershell.exe Single Quotes v Double Quotes When running commands that have switches where you provide a value I’ve had different levels of success depending on the contents of the value being passed to the command. If you’re a programmer (which I’m not) you will know single quotes tell the command not to interpret anything inside the quotation marks whereas double quotes can be used to interpret the variables contained within.\nUsing double quotes created unusual behavior on some of our PowerShell commands recently for values that contained a space and passwords with strange characters. I’ve not been able to find any SRM documentation that provides guidance on this but would suggest always using single quotes.\nCalling Linux Scripts Traditionally my clients have been 100% Windows shops, and when looking for guidance on SRM and calling scripts on Linux machines there is a distinct lack of discussions or information available. On a recent engagement this is exactly what I needed to do, but thanks to my colleague and SRM guru Lee Dilworth the answer is very simply use the following syntax:\n1/bin/sh /srm-scripts/callout.sh ","link":"http://jadenetworksolutions.co.uk/archive/2012/srm-commands/","section":"archive","tags":["SRM"],"title":"Running Commands with SRM 5.x "},{"body":"Question. According to this KB http://kb.vmware.com/kb/1026326, Windows VMs in vCloud Director need to be configured with DHCP to be able to join a Microsoft Active Directory domain. I have a VM with a static IP address. How do I get around this requirement?\nAnswer. The issue around DHCP is Microsoft-related and not VMware. The problem is that we rely on Sysprep to perform the customization and this is where the DHCP requirement comes in. As a workaround, we ran a script called SetupCommand.cmd which calls the netdom.exe command with the following syntax:\n1netdom.exe join %COMPUTERNAME% /Domain:vmware.com /OU:OU=vApp-VMs,DC=vmware,DC=com /Userd:???? /PasswordD:???? /Reboot To configure this: Before submitting the vApp to the catalog. Right click the VM and select Properties. Select the Guest OS Customization tab. Scroll down to the Customization Script sections and enter the command. ","link":"http://jadenetworksolutions.co.uk/archive/2012/join-vcd-ad/","section":"archive","tags":["vCloud Director"],"title":"Joining a VM to a Domain with vCloud Director"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/vcloud-director/","section":"tags","tags":null,"title":"vCloud Director"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/dell-compellent/","section":"tags","tags":null,"title":"Dell Compellent"},{"body":"I was recently involved in an engagement to implement Site Recovery Manager (SRM) 5 with a Dell Compellent storage solution. During the engagement we had various issues around how to implement the Dell components. Dell have produced a best practice document but some elements of the document are a little light on the ground. This blog is a collection of tested procedures that we followed to prove the solution.\nSetting up the Environment During our testing we setup the environment using the following steps:\nSet up the LUNs and replication using Compellent Enterprise Manager client. Save the restore points using Enterprise Manager client. This is a manual process that Dell talks about within their Best Practice guide and must be done after all major SRM events. Set up datastores in vSphere and present them to the appropriate hosts. Create a Protection Group(s) in SRM for the newly created datastores. Create a Recovery Plan(s) in SRM for the newly created datastores. Configure SRM debug logging in both Data Collectors to collect SRM information. (We did this step in order to capture detailed logging to provide Dell if required.) Confirmed that the SiteA SRA was talking to the remote data collector (hosted in SiteA) and the SiteB SRA was talking to primary data collector (hosted in SiteB, as per Compellent Best Practice. NOTE\nThis configuration is not 100% clear in the best practice document and we were provided conflicting information from Dell Support when we asked for verification, the document did not define Primary vs Remote Data Collectors and simply referred to Enterprise Manager in both sites.\nDefining the Failover Procedure We defined the following procedure to be run during a failover type of Disaster Recovery:\nRun the Recovery Plan, selecting Disaster Recovery as the recovery type. Save the restore points using Enterprise Manager client, ignoring the inactive ones flagged. NOTE\nThe Compellent Best Practice document says that these can be removed, but our testing showed that this created errors at the re-protect stage so we skipped this process.\nRe-protect (to reverse replication) Save the restore points using Enterprise Manager client. Defining the Failback Procedure We defined the following procedure to be run during a failback type of Disaster Planned Migration:\nRun the same Recovery Plan as used for the Failover procedure, selecting Planned Migration as the recovery type. Save the restore points using Enterprise Manager client, ignoring the inactive ones flagged. NOTE\nThe Compellent Best Practice document says that these can be removed, but our testing showed that this created errors at the re-protect stage so we skipped this process.\nRe-protect (to reverse replication). Save the restore points using Enterprise Manager client. Test Scenarios After defining the procedures we then carried out the following tests to verify the process.\nTest 1 - Both Compellent Enterprise Manager Data Collectors Running Ensuring both data collectors were up and running, the failover procedure was run for the following scenarios:\nDR from SiteB to SiteA, virtual machine TESTVM001, hosted on datastore SRMTest_1 DR from SiteA to SiteB, virtual machine TESTVM001, hosted on datastore SRMTest_2 Both failovers completed without error, so we then followed the failback procedure to bring everything back to where it started. Both failback procedures completed without error.\nTest 2 - Primary Data Collector Shut Down Shutting down the primary data collector hosted at SiteB, we simulated a failure of SiteB and then ran the following scenario:\nDR from SiteB to SiteA, virtual machine TESTVM001, hosted on datastore SRMTest_1 The failover completed successfully, but with a number of errors at the following stages of the recovery plan:\nPre-Synchronise Storage Prepare Protected Site FMs for Migration Synchronise Storage None of these errors were fatal but they did mean that a re-protect of the protection group could not be completed until they had been resolved. This meant running a second Recovery once the Primary data collector was back online, this then completed successfully and then allowed a re-protect to run.\nWith both data collectors online, the failback procedure was then run to bring everything back to where it started. This completed without error.\nTest 3 - Remote Data Collector Shut Down Shutting down the remote data collector hosted in SiteA, we simulated a failure of SiteA and then ran the following scenario:\nDR from SiteA to SiteB, virtual machine TESTVM002, hosted on datastore SRMTest_2 This failover completed successfully, but with the same non-critical errors as seen in test 2 along the way. Resolution was the same as test 2, bringing the remote data collector back online and then running a second Recovery. This completed successfully and allowed a re-protect to run.\nWith both data collectors online, the failback procedure was then run to bring everything back to where it started. This completed without error.\n","link":"http://jadenetworksolutions.co.uk/archive/2012/srm-dell-compellent/","section":"archive","tags":["SRM","Dell Compellent"],"title":"SRM 5 \u0026 Dell Compellent Best Practice Procedures"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/hds-storage/","section":"tags","tags":null,"title":"HDS Storage"},{"body":"These are notes on how to setup Site Recovery Manager (SRM) with HDS Storage using a command control device.\nIf using a VM for the SRM server ensure the following are configured before attempting to install the SRM components:\nRDM presented to the SRM VM, attached, initialized, but not formatted or assigned a drive letter. Install Hitachi RAID-Manger/Command Control Interface to setup the HORCM service (Protected site HORCM0 \u0026amp; Recovery Site HORCM1). Configure the horcm0.conf and horcm1.conf files on the respective SRM Servers. Start HORCM service (you will need to alter the name of the run config file located in the C:\\HORCM\\Tools, to match the service name 0 or 1. Test connection locally using C:\\HORCM\\Tools\\pairdisplay –g GRP1 –l (for local check) and pairdisplay –g GRP1 –fcx (remote side check), alter GRP1 to match the Group defined in your HORCM.conf file. Frequently Asked Questions Q: Does the SRA work at an individual Hitachi LUN level or HUR (Hitachi Universal Replicator) journal level ?\nA: HUR keeps all LUN pairs in the JNL group in the same status so if the pairs are split for a failover, all pairs in the JNL groups are split. The SRA cannot override this behavior. To split a single LUN it must be in a JNL group without any other LUNs.\nQ: Can SRA do split/sync for just one LUN ?\nA: Yes, depending on the configuration of HORCM but this is possible. The HUR pairs need to be created as single LUN/JNL group.\nQ: If we have multiple LUN's in same journal does it split all LUN's at same time?\nA: Yes\nQ: Does the SRA start a reverse sync immediately (Reverse P-VOL and S-VOL) once the secondary site is brought up?\nA: With SRM 4, HUR / TC do horctakeover so replication is reversed and if possible resync is run in the reverse direction. This behavior was changed for SRM 5 to support the additional functions. SRM 5 will only split and reverse the replication but will not resync until the reverseReplication function is called.\nQ: Do we have to create a separate HUR journal for each LUN, for individual LUN failover/failback?\nA: A separate JNL Group.\nUseful links http://www.hds.com/assets/pdf/hitachi-storage-replication-adapter-software-vmware-vcenter-site-recovery-manager-deployment-guide.pdf http://www.hds.com/solutions/applications/vmware/download.html\n","link":"http://jadenetworksolutions.co.uk/archive/2012/srm-hds-storage/","section":"archive","tags":["SRM","HDS Storage"],"title":"Installing SRM with HDS Storage"},{"body":"I don’t know how much experience any of you have in delivering the Spring Source Pet Clinic application which can be used as a good sample application when delivering VMware vCloud Director (vCD). Based on recent experience I thought I would share:\nPet Clinic Spring Source Sample Application – The Pet Clinic application is a simple two VM application running on CentOS, it consist of a one VM running Tomcat and IMDB and a second VM running Apache Web Server.\nThe application is deployed using OVF import into a vSphere infrastructure and has the default configuration:\nVM Description Tomcat and IMDB Server Apache Server Hostname pc-vm-0-0 pc-vm-1-0 IP Address 192.168.2.101 192.168.2.100 Root Password napa napa Deploy the application and alter the IP Address as in my case to test the vSphere Infrastructure the following files need to be edited: Tomcat \u0026amp; Apache Server /etc/hosts (Alter the local host entry to match new IP Address) /etc/sysconfig/network (Alter the default gateway) /etc/sysconfig/networking/network-scripts/ifcfg-eth0 (Alter the servers IP Address) Apache Server Only /etc/httpd/conf.d/proxy.conf (Alter the IP Address of the DB Server) Deploying the Pet Clinic application and proving the web service. If you know much about vCD then you will be aware that there are many ways to hook up network connectivity, on a recent engagement I devised the following scenario’s to demonstrate to my customer, the key element I was looking to show was the ability to deploy multiple copies of the Pet Clinic application with the default system configuration detailed in my earlier post. Scenario One – Internal Organisation Network\nMultiple Pet Clinic vApps with a vApp Network of 192.168.2.x, each vApp Network is connected to the Internal Organisation Network through a vShield Edge with only NAT enabled, this allocates an IP address from the Org Network to each VM within the vApp.\nWindows management VM deployed directly on the Org Network, application proving is then done through vCD Remote Console onto this VM. A web connection is then made using a NATed IP to test the Pet Clinic application.\nScenario Two – External Organisation Network directly connected\nAdd a Windows VM into the Pet Clinic vApp and then deploy multiple Pet Clinic vApps with two vApp Networks. Network one using 192.168.2.x, and network two using 192.168.3.x. All three VMs are attached to the 192.168.2.0 network to allow the application to function as normal and the Windows VM has a second NIC set as the primary to the 192.168.3.x network.\nThe vApp is then connected to the External Organisation Network through a vShield Edge with NAT enabled on the 192.168.3.x network only. This provide the Windows VM with an IP address on the customers corporate LAN giving a direct RDP connection to the Windows VM in order to test and alter the application. The reason for creating the second vApp network was to limit the number of IPs needed when the vApp is powered as the customer could only provide 10 IPs.\nAdditional Management\nI additionally deployed a second management VM directly on the External Organisation Network and allocated two network cards one connected to it and the second attached to the Internal Organisation Network, this provided the added benefit of a jump box to allow access to the vApps deployed within the Internal Organisation. From the jump box the NATed IP of the Pet Clinic application can be used to access the application.\nAs I said before there are plenty of choices when configuring vCD and the above is just what I’ve set up recently to demonstrating the capabilities.\n","link":"http://jadenetworksolutions.co.uk/archive/2011/pet-clinic/","section":"archive","tags":["vCloud Director"],"title":"Pet Clinic Application - vCloud PoC"},{"body":"","link":"http://jadenetworksolutions.co.uk/archive/2011/","section":"archive","tags":["index"],"title":"Posts"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/vcd/","section":"tags","tags":null,"title":"vCD"},{"body":"In November 2011 VMware released the latest version of their free tool called vCloud Connector. The purpose of this application is to enable customers to migrate virtual machines between vSphere, Private vCloud and Public vCloud platforms. With the latest release there have been various enhancements which include:\nDirect Connectivity to vcloud.vmware.com New Architecture With the release of v1.5 the vCloud Connector architecture has been re-designed. VMware has created three distinct components:\nvCloud Connector UI - The vCloud Connector UI is the user interface, this can be presented to the vSphere Client or vcloud.vmware.com. vCloud Connector Server - The vCloud Connection Server is a virtual appliance that is deployed to manage and coordinate tasks. vCloud Connector Node - The vCloud Connector Nodes are virtual appliances that handle the transfer of content from one cloud to another. ","link":"http://jadenetworksolutions.co.uk/archive/2011/vcloud-connector/","section":"archive","tags":["vCD"],"title":"vCloud Connector v1.5"},{"body":"","link":"http://jadenetworksolutions.co.uk/categories/vcloud-director/","section":"categories","tags":null,"title":"vCloud Director"},{"body":"As I continue to help customers build out their private clouds using VMware vCloud Director I'm finding that I'm personally needing to build up my Linux skills (I come from a Windows background like a lot of VMware users) so I've created this post to bring all this information into one spot. As I find additional useful commands I will update. Enjoy !!\nDisable Firewall By default the Firewall service within Red Hat is enabled, when setting up the vCloud Director cells this will stop you from being able to hit the url once installed. Use the following commands to check and configure the firewall:\nCheck the firewall status 1/etc/init.d/iptables status Disable the firewall service 1/etc/init.d/iptables save 2/etc/init.d/iptables stop 3chkconfig iptables off or\n1service iptables save 2service iptables stop 3chkconfig iptables off Viewing Logs Using Tail When deploying the VMware vCloud Director cells, you will need to monitor the services starting in case any issues occur (DNS is always a good one). The Linux tail command is useful in this situation, by default tail will print the last 10 lines but with some additional values we can display more lines and follow the output as it changes. This can be achieved using the following commands:\n1tail –f -n 50 /opt/vmware/vcloud-director/logs/cell.log Checking Version of Red Hat If you want to double check the version of Red Hat your running then the following command can be issued:\n1tail /etc/redhat-release ","link":"http://jadenetworksolutions.co.uk/archive/2011/redhat-cmds/","section":"archive","tags":["Linux"],"title":"Handy RedHat Commands"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/linux/","section":"tags","tags":null,"title":"Linux"},{"body":"","link":"http://jadenetworksolutions.co.uk/tags/index/","section":"tags","tags":null,"title":"index"}]